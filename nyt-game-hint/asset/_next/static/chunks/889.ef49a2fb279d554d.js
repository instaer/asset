"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[889],{889:function(e,o,t){t.r(o),t.d(o,{default:function(){return SudokuHintDisplay}});var r=t(5893),i=t(7294),n=t(2734),l=t(4558),a=t(2280),s=t(8895),d=t(5861),c=t(2797),u=t(5616),p=t(2180),h=t(9417),m=t(3508),g=t(948);let x=(0,g.ZP)(u.Z,{shouldForwardProp:e=>"isPrefilled"!==e&&"isHighlighted"!==e&&"isRightEdge"!==e&&"isBottomEdge"!==e&&"scaleFactor"!==e})(e=>{let{theme:o,isPrefilled:t,isHighlighted:r,isRightEdge:i,isBottomEdge:n,scaleFactor:l}=e;return{width:"".concat(3*l,"rem"),height:"".concat(3*l,"rem"),display:"flex",justifyContent:"center",alignItems:"center",fontSize:"".concat(1.7999999999999998*l,"rem"),fontWeight:"bold",backgroundColor:t?"#E6E6E6":r?"#FFDA00":"white",color:"black",borderRight:i?"".concat(.2*l,"rem solid #959595"):"".concat(.5*l,"px solid #959595"),borderBottom:n?"".concat(.2*l,"rem solid #959595"):"".concat(.5*l,"px solid #959595"),boxSizing:"border-box"}}),f=(0,g.ZP)(u.Z,{shouldForwardProp:e=>"isHovered"!==e&&"scaleFactor"!==e})(e=>{let{isHovered:o,scaleFactor:t}=e;return{position:"absolute",width:"".concat(9*t,"rem"),height:"".concat(9*t,"rem"),backgroundColor:o?"rgba(0, 0, 0, 0.30)":"transparent",transition:"background-color 0.2s ease",pointerEvents:"none"}}),b=(0,g.ZP)(u.Z,{shouldForwardProp:e=>"scaleFactor"!==e})(e=>{let{scaleFactor:o}=e;return{width:"".concat(27*o,"rem"),height:"".concat(27*o,"rem"),display:"grid",gridTemplateColumns:"repeat(9, 1fr)",gridTemplateRows:"repeat(9, 1fr)",position:"relative",boxSizing:"content-box",border:"".concat(.2*o,"rem solid black")}}),k=i.forwardRef((e,o)=>{let{puzzle:t,solution:n,isLargeScreenDevice:l,handleHintVisibleAtIndex:a}=e,[s,d]=(0,i.useState)("initial"),[c,p]=(0,i.useState)([]),[h,m]=(0,i.useState)(Array(9).fill(!1)),[g,k]=(0,i.useState)(null),v=l?.9:.55;(0,i.useEffect)(()=>{let e=t.map((e,o)=>3>Math.floor(o/9)&&o%9<3&&0===e?n[o]:e);p(e),m([!0,...Array(8).fill(!1)])},[t,n]),i.useImperativeHandle(o,()=>({displayPuzzle:()=>{d("puzzle"),p([...t]),m(Array(9).fill(!1))},displaySolution:()=>{d("solution"),p([...n]),m(Array(9).fill(!0))}}));let getBlockIndex=(e,o)=>3*Math.floor(e/3)+Math.floor(o/3),handleBlockClick=e=>{let o=!1;for(let r=0;r<9;r++){for(let i=0;i<9;i++)if(getBlockIndex(r,i)===e&&0===t[9*r+i]){o=!0;break}if(o)break}if(!o)return;let r=[...h];r[e]=!r[e],m(r),r.every(e=>e)?a(!0):r.every(e=>!e)&&a(!1);let i=t.map((e,o)=>{let t=getBlockIndex(Math.floor(o/9),o%9);return 0===e&&r[t]?n[o]:e});p(i)},getBlockPosition=e=>({left:"".concat(e%3*9*v,"rem"),top:"".concat(9*Math.floor(e/3)*v,"rem")});return(0,r.jsxs)(u.Z,{position:"relative",children:[[0,1,2,3,4,5,6,7,8].map(e=>{let o=getBlockPosition(e);return(0,r.jsx)(f,{isHovered:g===e,style:{...o,zIndex:1},scaleFactor:v},"highlight-".concat(e))}),(0,r.jsx)(b,{scaleFactor:v,children:c.map((e,o)=>{let i=Math.floor(o/9),n=o%9,l=getBlockIndex(i,n),a=0!==t[o],d=!a&&0!==e&&("initial"!==s||h[l]),c=(n+1)%3==0&&8!==n,u=(i+1)%3==0&&8!==i;return(0,r.jsx)(x,{isPrefilled:a,isHighlighted:d,isRightEdge:c,isBottomEdge:u,scaleFactor:v,onClick:()=>handleBlockClick(l),onMouseEnter:()=>k(l),onMouseLeave:()=>k(null),sx:{cursor:"pointer",position:"relative"},children:0!==e?e:""},o)})})]})});var v=t(2450),z=t(2961);let y=["#f9df6d","#f7da21","#FB9B00"];var SudokuHintDisplay=function(e){let{responseData:o}=e,t=["easy","medium","hard"],[g,x]=i.useState(t.map(()=>!1)),f=i.useRef(t.map(()=>i.createRef())),b=(0,n.Z)(),S=(0,l.Z)(b.breakpoints.up("sm")),displayPuzzle=e=>{f.current[e]&&f.current[e].current&&f.current[e].current.displayPuzzle()},displaySolution=e=>{f.current[e]&&f.current[e].current&&f.current[e].current.displaySolution()},handleHintToggleVisibility=e=>{x(o=>{let t=!o[e];return t?displaySolution(e):displayPuzzle(e),o.map((o,r)=>r===e?t:o)})},handleHintVisibleAtIndex=(e,o)=>{x(t=>{let r=t[e],i=void 0!==o?o:!r;return r===i?t:t.map((o,t)=>t===e?i:o)})};return(0,r.jsx)(r.Fragment,{children:t.map((e,t)=>{var i,n,l,x,b,Z;return(0,r.jsxs)(a.Z,{slotProps:{transition:{unmountOnExit:!0}},sx:{backgroundColor:y[t],"&.Mui-expanded":{backgroundColor:y[t]},borderRadius:"0.75rem !important",boxShadow:"0 0.25rem 0.375rem rgba(0, 0, 0, 0.08) !important","&:before":{display:"none"},"& .MuiCollapse-root":{borderBottomLeftRadius:"0.75rem",borderBottomRightRadius:"0.75rem"}},children:[(0,r.jsx)(s.Z,{expandIcon:(0,r.jsx)(m.Z,{}),id:"panel".concat(t+1,"-header"),"aria-controls":"panel".concat(t+1,"-content"),children:(0,r.jsxs)(d.Z,{sx:{fontWeight:500,fontSize:{xs:"1rem",sm:"1.1rem"}},children:[S?"Click":"Tap"," for a hint: ",e.charAt(0).toUpperCase()+e.slice(1)," puzzle"]})}),(0,r.jsxs)(c.Z,{children:[(0,r.jsxs)(d.Z,{sx:{fontSize:{xs:"0.875rem",sm:"0.9rem"},color:"text.secondary",fontWeight:400,mb:2},children:[S?"Click":"Tap"," a 3x3 region to show the numbers inside."]}),(0,r.jsx)(u.Z,{children:(0,r.jsx)(k,{ref:f.current[t],puzzle:null==o?void 0:null===(l=o.gameData)||void 0===l?void 0:null===(n=l[e])||void 0===n?void 0:null===(i=n.puzzle_data)||void 0===i?void 0:i.puzzle,solution:null==o?void 0:null===(Z=o.gameData)||void 0===Z?void 0:null===(b=Z[e])||void 0===b?void 0:null===(x=b.puzzle_data)||void 0===x?void 0:x.solution,isLargeScreenDevice:S,handleHintVisibleAtIndex:e=>handleHintVisibleAtIndex(t,e)})})]}),(0,r.jsx)(p.Z,{sx:{padding:"8px 16px 16px",borderTop:"none"},children:(0,r.jsx)(h.Z,{variant:"contained",startIcon:g[t]?(0,r.jsx)(v.Z,{sx:{fontSize:"1.1rem"}}):(0,r.jsx)(z.Z,{sx:{fontSize:"1.1rem"}}),onClick:()=>handleHintToggleVisibility(t),sx:{textTransform:"none",fontSize:"0.9rem",fontWeight:500,backgroundColor:"rgba(0, 0, 0, 0.1)",color:"rgba(0, 0, 0, 0.8)",boxShadow:"none","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.15)",boxShadow:"none"},borderRadius:"6px",py:.75},children:g[t]?"Hide Numbers":"Show Numbers"})})]},t)})})}}}]);