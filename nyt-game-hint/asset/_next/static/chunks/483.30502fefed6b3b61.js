"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[483],{7483:function(e,n,r){r.r(n);var o=r(5893),t=r(7294),a=r(2734),l=r(4558),i=r(7358),s=r(8895),d=r(5861),c=r(2797),u=r(476),p=r(1050),x=r(480),m=r(7781),h=r(5616),g=r(8456),b=r(2180),v=r(9417),f=r(3508),y=r(2450),z=r(2961),j=r(9217),S=r(5152),Z=r.n(S);let C=["#f9df6d","#f7da21","#FB9B00"],T=Z()(()=>Promise.all([r.e(994),r.e(456)]).then(r.bind(r,1456)),{loadableGenerated:{webpack:()=>[1456]},ssr:!1});n.default=function(e){let{responseData:n}=e,r=["easy","medium","hard"],[S,Z]=t.useState(r.map(()=>!1)),[k,w]=t.useState(r.map(()=>"candidate")),H=t.useRef(r.map(()=>t.createRef())),[R,A]=t.useTransition(),[B,M]=t.useState({}),[I,V]=t.useState({}),_=(0,a.Z)(),P=(0,l.Z)(_.breakpoints.up("sm")),displayPuzzle=e=>{H.current[e]&&H.current[e].current&&H.current[e].current.displayPuzzle()},displaySolution=e=>{H.current[e]&&H.current[e].current&&H.current[e].current.displaySolution()},resetBoard=e=>{H.current[e]&&H.current[e].current&&H.current[e].current.resetBoard()},closeCandidateHint=e=>{var n;(null===(n=H.current[e])||void 0===n?void 0:n.current)&&H.current[e].current.resetBoard()},handleHintToggleVisibility=e=>{Z(n=>{let r=!n[e];return r?displaySolution(e):displayPuzzle(e),n.map((n,o)=>o===e?r:n)})},handleHintToggleModes=(e,n)=>{w(r=>r.map((r,o)=>o===e?n:r)),Z(n=>n.map((n,r)=>r!==e&&n))},handleHintVisibleAtIndex=(e,n)=>{Z(r=>{let o=r[e],t=void 0!==n?n:!o;return o===t?r:r.map((n,r)=>r===e?t:n)})},handleAccordionChange=e=>(o,t)=>{t?B[e]||(M(n=>({...n,[e]:!0})),A(()=>{var o,t,a,l,i,s;let d=r[e],c=null==n?void 0:null===(a=n.gameData)||void 0===a?void 0:null===(t=a[d])||void 0===t?void 0:null===(o=t.puzzle_data)||void 0===o?void 0:o.puzzle,u=null==n?void 0:null===(s=n.gameData)||void 0===s?void 0:null===(i=s[d])||void 0===i?void 0:null===(l=i.puzzle_data)||void 0===l?void 0:l.solution;V(n=>({...n,[e]:{puzzle:c,solution:u}}))})):closeCandidateHint(e)};return(0,o.jsx)(o.Fragment,{children:r.map((e,n)=>{var r,t;return(0,o.jsxs)(i.Z,{onChange:handleAccordionChange(n),sx:{backgroundColor:C[n],"&.Mui-expanded":{marginTop:"".concat(_.spacing(2)," !important"),backgroundColor:C[n]},borderRadius:"0.75rem !important",boxShadow:"0 0.25rem 0.375rem rgba(0, 0, 0, 0.08) !important","&:before":{display:"none"},"& .MuiCollapse-root":{borderBottomLeftRadius:"0.75rem",borderBottomRightRadius:"0.75rem"}},children:[(0,o.jsx)(s.Z,{expandIcon:(0,o.jsx)(f.Z,{}),id:"panel".concat(n+1,"-header"),"aria-controls":"panel".concat(n+1,"-content"),children:(0,o.jsxs)(d.Z,{sx:{fontWeight:500,fontSize:{xs:"1rem",sm:"1.1rem"}},children:[e.charAt(0).toUpperCase()+e.slice(1)," Puzzle Hints"]})}),(0,o.jsxs)(c.Z,{children:[(0,o.jsxs)(u.Z,{id:"hint-mode-label",sx:{fontSize:"1.1rem",fontWeight:600,color:"text.primary",mb:1.5,display:"flex",alignItems:"center",gap:.75},children:[(0,o.jsx)(j.Z,{sx:{fontSize:"1.1rem",color:"primary.main",opacity:.9}}),"Hint Mode"]}),(0,o.jsxs)(p.Z,{"aria-labelledby":"hint-mode-label",value:k[n],onChange:e=>handleHintToggleModes(n,e.target.value),sx:{mb:2,"& .MuiFormControlLabel-root":{marginBottom:1}},children:[(0,o.jsx)(x.Z,{value:"candidate",control:(0,o.jsx)(m.Z,{size:"small"}),label:"Show Candidate Hints (Tap an empty cell)",sx:{"& .MuiTypography-root":{fontSize:{xs:"0.875rem",sm:"0.9rem"},color:"text.secondary"}}}),(0,o.jsx)(x.Z,{value:"cell",control:(0,o.jsx)(m.Z,{size:"small"}),label:"Reveal Single Cell Answer (Tap an empty cell)",sx:{"& .MuiTypography-root":{fontSize:{xs:"0.875rem",sm:"0.9rem"},color:"text.secondary"}}}),(0,o.jsx)(x.Z,{value:"block",control:(0,o.jsx)(m.Z,{size:"small"}),label:"Reveal 3x3 Block Answers (Tap a 3x3 region)",sx:{"& .MuiTypography-root":{fontSize:{xs:"0.875rem",sm:"0.9rem"},color:"text.secondary"}}})]}),(R||!B[n])&&(0,o.jsx)(h.Z,{sx:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",bgcolor:"rgba(255, 255, 255, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1300},children:(0,o.jsx)(g.Z,{})}),(0,o.jsx)(h.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:B[n]&&(0,o.jsx)(T,{boardRef:H.current[n],puzzle:(null===(r=I[n])||void 0===r?void 0:r.puzzle)||[],solution:(null===(t=I[n])||void 0===t?void 0:t.solution)||[],isLargeScreenDevice:P,handleHintVisibleAtIndex:e=>handleHintVisibleAtIndex(n,e),hintMode:k[n],hintVisibleState:S[n]})})]}),(0,o.jsx)(b.Z,{sx:{padding:"8px 16px 16px",borderTop:"none"},children:(0,o.jsx)(v.Z,{variant:"contained",startIcon:S[n]?(0,o.jsx)(y.Z,{sx:{fontSize:"1.1rem"}}):(0,o.jsx)(z.Z,{sx:{fontSize:"1.1rem"}}),onClick:()=>{resetBoard(n),handleHintToggleVisibility(n)},sx:{textTransform:"none",fontSize:"0.9rem",fontWeight:500,backgroundColor:"rgba(0, 0, 0, 0.1)",color:"rgba(0, 0, 0, 0.8)",boxShadow:"none","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.15)",boxShadow:"none"},borderRadius:"6px",py:.75},children:S[n]?"Hide Answer":"Reveal Answer"})})]},n)})})}}}]);