"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{3094:function(e,t,n){var a=n(4836);t.Z=void 0;var r=a(n(4938)),o=n(5893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M11.07 12.85c.77-1.39 2.25-2.21 3.11-3.44.91-1.29.4-3.7-2.18-3.7-1.69 0-2.52 1.28-2.87 2.34L6.54 6.96C7.25 4.83 9.18 3 11.99 3c2.35 0 3.96 1.07 4.78 2.41.7 1.15 1.11 3.3.03 4.9-1.2 1.77-2.35 2.31-2.97 3.45-.25.46-.35.76-.35 2.24h-2.89c-.01-.78-.13-2.05.48-3.15M14 20c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2"}),"QuestionMark")},2961:function(e,t,n){var a=n(4836);t.Z=void 0;var r=a(n(4938)),o=n(5893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},2450:function(e,t,n){var a=n(4836);t.Z=void 0;var r=a(n(4938)),o=n(5893);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff")},2180:function(e,t,n){n.d(t,{Z:function(){return g}});var a=n(7462),r=n(3366),o=n(7294),i=n(512),c=n(8510),l=n(948),s=n(8628),d=n(1977),x=n(5463);function getAccordionActionsUtilityClass(e){return(0,x.ZP)("MuiAccordionActions",e)}(0,d.Z)("MuiAccordionActions",["root","spacing"]);var f=n(5893);let u=["className","disableSpacing"],useUtilityClasses=e=>{let{classes:t,disableSpacing:n}=e;return(0,c.Z)({root:["root",!n&&"spacing"]},getAccordionActionsUtilityClass,t)},h=(0,l.ZP)("div",{name:"MuiAccordionActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",variants:[{props:e=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),p=o.forwardRef(function(e,t){let n=(0,s.i)({props:e,name:"MuiAccordionActions"}),{className:o,disableSpacing:c=!1}=n,l=(0,r.Z)(n,u),d=(0,a.Z)({},n,{disableSpacing:c}),x=useUtilityClasses(d);return(0,f.jsx)(h,(0,a.Z)({className:(0,i.Z)(x.root,o),ref:t,ownerState:d},l))});var g=p},951:function(e,t,n){n.r(t),n.d(t,{default:function(){return StrandsHintDisplay}});var a=n(5893),r=n(7294),o=n(2734),i=n(2280),c=n(8895),l=n(5861),s=n(2797),d=n(5616),x=n(1233),f=n(7918),u=n(2180),h=n(9417),p=n(3508),g=n(3094),m=n(6886);let y=r.forwardRef((e,t)=>{let{startingBoard:n,themeCoords:o,spangram:i,isLargeScreenDevice:c}=e,[s,x]=r.useState([]),f=r.useRef(null),u=c?1.15:1.3,h=3.125/u,p=.9375/u,g=.4/u;r.useEffect(()=>{drawBoard()},[s]),r.useImperativeHandle(t,()=>({drawAllWords,drawWord,clearAllLines,clearWordLines}));let drawBoard=()=>{let e=f.current,t=e.getContext("2d"),n=window.devicePixelRatio||1,a=e.getBoundingClientRect();e.width=a.width*n,e.height=a.height*n,t.scale(n,n),t.clearRect(0,0,e.width,e.height);let remToPx=e=>e*parseFloat(getComputedStyle(document.documentElement).fontSize);function drawLine(e){t.beginPath(),t.strokeStyle=e.isSpangram?"#f8cb2c":"#aedfee",t.lineWidth=remToPx(g),t.moveTo(e.points[0].y*remToPx(h)+remToPx(h)/2,e.points[0].x*remToPx(h)+remToPx(h)/2),t.lineTo(e.points[1].y*remToPx(h)+remToPx(h)/2,e.points[1].x*remToPx(h)+remToPx(h)/2),t.stroke(),t.fillStyle=e.isSpangram?"#f8cb2c":"#aedfee",e.points.forEach(e=>{t.beginPath(),t.arc(e.y*remToPx(h)+remToPx(h)/2,e.x*remToPx(h)+remToPx(h)/2,remToPx(p),0,2*Math.PI),t.fill()})}s.filter(e=>!e.isSpangram).forEach(drawLine),s.filter(e=>e.isSpangram).forEach(drawLine)},isAdjacent=(e,t)=>{let n=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);return n<=1&&a<=1&&!(0===n&&0===a)},isValidLine=(e,t,n)=>{let a=t.x-e.x,r=t.y-e.y,o=Math.max(Math.abs(a),Math.abs(r));for(let t=1;t<o;t++){let i=e.x+a*(t/o),c=e.y+r*(t/o);for(let t of n){let[n,a]=t.points;if(intersects(e,{x:i,y:c},n,a))return!1}}return!0},intersects=(e,t,n,a)=>(a.y-e.y)*(n.x-e.x)>(n.y-e.y)*(a.x-e.x)!=(a.y-t.y)*(n.x-t.x)>(n.y-t.y)*(a.x-t.x)&&(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)!=(a.y-e.y)*(t.x-e.x)>(t.y-e.y)*(a.x-e.x),drawWord=e=>{if(o[e]){let t=o[e],n=[];for(let e=0;e<t.length-1;e++)n.push({points:[{x:t[e][0],y:t[e][1]},{x:t[e+1][0],y:t[e+1][1]}],isSpangram:!1});x(e=>{let a=e.filter(e=>!t.some(t=>t[0]===e.points[0].x&&t[1]===e.points[0].y||t[0]===e.points[1].x&&t[1]===e.points[1].y));return[...a,...n]})}else if(e===i){let e=new Set;Object.values(o).forEach(t=>{t.forEach(t=>e.add("".concat(t[0],",").concat(t[1])))});let t=[];n.forEach((n,a)=>{n.split("").forEach((n,r)=>{e.has("".concat(a,",").concat(r))||t.push({x:a,y:r,letter:n})})});let a=[],r=new Map;t.forEach(e=>r.set("".concat(e.x,",").concat(e.y),{asStart:!1,asEnd:!1}));let findPath=(e,n)=>{if(0===n.length)return e;let o=e[e.length-1],i=n[0];for(let c of t)if(c.letter===i&&isAdjacent(o,c)&&!r.get("".concat(c.x,",").concat(c.y)).asEnd&&!r.get("".concat(o.x,",").concat(o.y)).asStart){let t={points:[o,c],isSpangram:!0};if(isValidLine(o,c,a)){r.get("".concat(o.x,",").concat(o.y)).asStart=!0,r.get("".concat(c.x,",").concat(c.y)).asEnd=!0,a.push(t);let i=findPath([...e,c],n.slice(1));if(i)return i;a.pop(),r.get("".concat(o.x,",").concat(o.y)).asStart=!1,r.get("".concat(c.x,",").concat(c.y)).asEnd=!1}}return null};for(let e of t)if(e.letter===i[0]&&!r.get("".concat(e.x,",").concat(e.y)).asEnd){r.get("".concat(e.x,",").concat(e.y)).asEnd=!0;let t=findPath([e],i.slice(1));if(t){x(e=>{let t=e.filter(e=>!e.isSpangram);return[...t,...a]});return}r.get("".concat(e.x,",").concat(e.y)).asEnd=!1}}},clearAllLines=()=>{x([])},drawAllWords=()=>{clearAllLines();let e=[];Object.entries(o).forEach(t=>{let[n,a]=t;for(let t=0;t<a.length-1;t++)e.push({points:[{x:a[t][0],y:a[t][1]},{x:a[t+1][0],y:a[t+1][1]}],isSpangram:!1})});let t=new Set;Object.values(o).forEach(e=>{e.forEach(e=>t.add("".concat(e[0],",").concat(e[1])))});let a=[];n.forEach((e,n)=>{e.split("").forEach((e,r)=>{t.has("".concat(n,",").concat(r))||a.push({x:n,y:r,letter:e})})});let r=[],c=new Map;a.forEach(e=>c.set("".concat(e.x,",").concat(e.y),{asStart:!1,asEnd:!1}));let findPath=(e,t)=>{if(0===t.length)return e;let n=e[e.length-1],o=t[0];for(let i of a)if(i.letter===o&&isAdjacent(n,i)&&!c.get("".concat(i.x,",").concat(i.y)).asEnd&&!c.get("".concat(n.x,",").concat(n.y)).asStart){let a={points:[n,i],isSpangram:!0};if(isValidLine(n,i,r)){c.get("".concat(n.x,",").concat(n.y)).asStart=!0,c.get("".concat(i.x,",").concat(i.y)).asEnd=!0,r.push(a);let o=findPath([...e,i],t.slice(1));if(o)return o;r.pop(),c.get("".concat(n.x,",").concat(n.y)).asStart=!1,c.get("".concat(i.x,",").concat(i.y)).asEnd=!1}}return null};for(let t of a)if(t.letter===i[0]&&!c.get("".concat(t.x,",").concat(t.y)).asEnd){c.get("".concat(t.x,",").concat(t.y)).asEnd=!0;let n=findPath([t],i.slice(1));if(n){e.push(...r);break}c.get("".concat(t.x,",").concat(t.y)).asEnd=!1}x(e)},clearWordLines=e=>{if(o[e]){let t=o[e];x(e=>e.filter(e=>!t.some(t=>t[0]===e.points[0].x&&t[1]===e.points[0].y||t[0]===e.points[1].x&&t[1]===e.points[1].y)))}else e===i&&x(e=>e.filter(e=>!e.isSpangram))};return(0,a.jsxs)(d.Z,{position:"relative",maxWidth:"100%",width:"".concat(6*h,"rem"),height:"".concat(8*h,"rem"),children:[(0,a.jsx)(m.ZP,{container:!0,spacing:0,children:n.map((e,t)=>e.split("").map((e,n)=>(0,a.jsx)(m.ZP,{item:!0,xs:2,children:(0,a.jsx)(d.Z,{display:"flex",justifyContent:"center",alignItems:"center",width:"".concat(h,"rem"),height:"".concat(h,"rem"),border:"1px solid #ccc",position:"relative",zIndex:1,children:(0,a.jsx)(l.Z,{component:"span",variant:"h6",style:{color:"black"},children:e})})},"".concat(t,"-").concat(n))))}),(0,a.jsx)("canvas",{ref:f,width:"".concat(6*h,"rem"),height:"".concat(8*h,"rem"),style:{position:"absolute",top:0,left:0,pointerEvents:"none",width:"100%",height:"100%",border:"2px solid #ccc"}})]})});var v=n(2450),b=n(2961),StrandsHintDisplay=function(e){var t,n,m,w,S,E,Z,j,A;let{responseData:P,isLargeScreenDevice:M}=e,C=null!==(E=null===(t=P.gameData)||void 0===t?void 0:t.startingBoard)&&void 0!==E?E:[],L=null!==(Z=null===(n=P.gameData)||void 0===n?void 0:n.themeWords)&&void 0!==Z?Z:[],T=null!==(j=null===(m=P.gameData)||void 0===m?void 0:m.themeCoords)&&void 0!==j?j:[],W=null!==(A=null===(w=P.gameData)||void 0===w?void 0:w.spangram)&&void 0!==A?A:"",k=[W,...L],[R,H]=r.useState(()=>[!0,...Array(k.length-1).fill(!1)]),[D,F]=r.useState(!1),I=r.useRef();r.useEffect(()=>{drawWord(k[0])},[]);let V=(0,o.Z)(),handleHintToggleVisibility=e=>{H(t=>{let n=t.map((t,n)=>n===e?!t:t),a=n.every(e=>!0===e);return F(a),n[e]?drawWord(k[e]):clearWordLines(k[e]),n})},setAllHintsVisibleStates=()=>{H(e=>{let t=Array(R.length).fill(!D);return F(!D),D?clearAllLines():drawAllWords(),t})},drawWord=e=>{I.current&&I.current.drawWord(e)},clearAllLines=()=>{I.current&&I.current.clearAllLines()},clearWordLines=e=>{I.current&&I.current.clearWordLines(e)},drawAllWords=()=>{I.current&&I.current.drawAllWords()};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(i.Z,{sx:{backgroundColor:"#e6e6e6","&.Mui-expanded":{backgroundColor:"#e6e6e6"},borderRadius:"0.75rem !important",boxShadow:"0 0.25rem 0.375rem rgba(0, 0, 0, 0.08) !important","&:before":{display:"none"},"& .MuiCollapse-root":{borderBottomLeftRadius:"0.75rem",borderBottomRightRadius:"0.75rem"}},children:[(0,a.jsx)(c.Z,{expandIcon:(0,a.jsx)(p.Z,{}),id:"panel-header","aria-controls":"panel-content",children:(0,a.jsxs)(l.Z,{sx:{fontWeight:500,fontSize:{xs:"1rem",sm:"1.1rem"}},children:[M?"Click":"Tap"," to reveal answers"]})}),(0,a.jsxs)(s.Z,{children:[(0,a.jsx)(d.Z,{sx:{display:"flex",alignItems:"center",mb:2},children:(0,a.jsx)(l.Z,{fontWeight:"bold",dangerouslySetInnerHTML:{__html:'TODAYâ€™S THEME: <span style="color:'.concat(V.palette.primary.main,'">').concat(null===(S=P.gameData)||void 0===S?void 0:S.clue,"</span>")}})}),(0,a.jsx)(x.Z,{spacing:1,direction:"row",useFlexGap:!0,flexWrap:"wrap",children:k.map((e,t)=>(0,a.jsx)(f.Z,{label:R[t]?e:(0,a.jsx)(g.Z,{fontSize:"small"}),size:"medium",sx:{fontWeight:R[t]?"bold":"normal",color:R[t]?"#000000":"#FFFFFF",bgcolor:0===t?"#f8cb2c":"#c0ddd9","&:focus":{bgcolor:0===t?"#f8cb2c":"#c0ddd9"}},onClick:()=>handleHintToggleVisibility(t)},t))}),(0,a.jsx)(d.Z,{sx:{flexGrow:1},mt:2,children:(0,a.jsx)(y,{ref:I,startingBoard:C,themeCoords:T,spangram:W,isLargeScreenDevice:M})})]}),(0,a.jsx)(u.Z,{children:(0,a.jsx)(h.Z,{variant:"outlined",startIcon:D?(0,a.jsx)(v.Z,{}):(0,a.jsx)(b.Z,{}),onClick:()=>setAllHintsVisibleStates(),children:D?"Hide Answers":"Reveal Answers"})})]})})}}}]);