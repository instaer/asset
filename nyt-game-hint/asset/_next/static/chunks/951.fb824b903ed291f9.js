"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{3094:function(t,e,n){var a=n(4836);e.Z=void 0;var r=a(n(4938)),o=n(5893);e.Z=(0,r.default)((0,o.jsx)("path",{d:"M11.07 12.85c.77-1.39 2.25-2.21 3.11-3.44.91-1.29.4-3.7-2.18-3.7-1.69 0-2.52 1.28-2.87 2.34L6.54 6.96C7.25 4.83 9.18 3 11.99 3c2.35 0 3.96 1.07 4.78 2.41.7 1.15 1.11 3.3.03 4.9-1.2 1.77-2.35 2.31-2.97 3.45-.25.46-.35.76-.35 2.24h-2.89c-.01-.78-.13-2.05.48-3.15M14 20c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2"}),"QuestionMark")},2961:function(t,e,n){var a=n(4836);e.Z=void 0;var r=a(n(4938)),o=n(5893);e.Z=(0,r.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},2450:function(t,e,n){var a=n(4836);e.Z=void 0;var r=a(n(4938)),o=n(5893);e.Z=(0,r.default)((0,o.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff")},2180:function(t,e,n){n.d(e,{Z:function(){return g}});var a=n(7462),r=n(3366),o=n(7294),i=n(512),c=n(8510),s=n(948),l=n(8628),d=n(1977),x=n(5463);function getAccordionActionsUtilityClass(t){return(0,x.ZP)("MuiAccordionActions",t)}(0,d.Z)("MuiAccordionActions",["root","spacing"]);var f=n(5893);let p=["className","disableSpacing"],useUtilityClasses=t=>{let{classes:e,disableSpacing:n}=t;return(0,c.Z)({root:["root",!n&&"spacing"]},getAccordionActionsUtilityClass,e)},u=(0,s.ZP)("div",{name:"MuiAccordionActions",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",variants:[{props:t=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),h=o.forwardRef(function(t,e){let n=(0,l.i)({props:t,name:"MuiAccordionActions"}),{className:o,disableSpacing:c=!1}=n,s=(0,r.Z)(n,p),d=(0,a.Z)({},n,{disableSpacing:c}),x=useUtilityClasses(d);return(0,f.jsx)(u,(0,a.Z)({className:(0,i.Z)(x.root,o),ref:e,ownerState:d},s))});var g=h},951:function(t,e,n){n.r(e),n.d(e,{default:function(){return StrandsHintDisplay}});var a=n(5893),r=n(7294),o=n(2734),i=n(2280),c=n(8895),s=n(5861),l=n(2797),d=n(5616),x=n(1233),f=n(7918),p=n(2180),u=n(9417),h=n(3508),g=n(3094),m=n(6886);let y=r.forwardRef((t,e)=>{let{startingBoard:n,themeCoords:o,spangram:i,isLargeScreenDevice:c}=t,[l,x]=r.useState([]),f=r.useRef(null),p=c?1.15:1.25,u=3.125/p,h=.9375/p,g=.4/p;r.useEffect(()=>{drawBoard()},[l]),r.useImperativeHandle(e,()=>({drawAllWords,drawWord,clearAllLines,clearWordLines}));let drawBoard=()=>{let t=f.current,e=t.getContext("2d"),n=window.devicePixelRatio||1,a=t.getBoundingClientRect();t.width=a.width*n,t.height=a.height*n,e.scale(n,n),e.clearRect(0,0,t.width,t.height);let remToPx=t=>t*parseFloat(getComputedStyle(document.documentElement).fontSize);function drawLine(t){e.beginPath(),e.strokeStyle=t.isSpangram?"#f8cb2c":"#aedfee",e.lineWidth=remToPx(g),e.moveTo(t.points[0].y*remToPx(u)+remToPx(u)/2,t.points[0].x*remToPx(u)+remToPx(u)/2),e.lineTo(t.points[1].y*remToPx(u)+remToPx(u)/2,t.points[1].x*remToPx(u)+remToPx(u)/2),e.stroke(),e.fillStyle=t.isSpangram?"#f8cb2c":"#aedfee",t.points.forEach(t=>{e.beginPath(),e.arc(t.y*remToPx(u)+remToPx(u)/2,t.x*remToPx(u)+remToPx(u)/2,remToPx(h),0,2*Math.PI),e.fill()})}l.filter(t=>!t.isSpangram).forEach(drawLine),l.filter(t=>t.isSpangram).forEach(drawLine)},isAdjacent=(t,e)=>{let n=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);return n<=1&&a<=1&&!(0===n&&0===a)},isValidLine=(t,e,n)=>{let a=e.x-t.x,r=e.y-t.y,o=Math.max(Math.abs(a),Math.abs(r));for(let e=1;e<o;e++){let i=t.x+a*(e/o),c=t.y+r*(e/o);for(let e of n){let[n,a]=e.points;if(intersects(t,{x:i,y:c},n,a))return!1}}return!0},intersects=(t,e,n,a)=>(a.y-t.y)*(n.x-t.x)>(n.y-t.y)*(a.x-t.x)!=(a.y-e.y)*(n.x-e.x)>(n.y-e.y)*(a.x-e.x)&&(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)!=(a.y-t.y)*(e.x-t.x)>(e.y-t.y)*(a.x-t.x),drawWord=t=>{if(o[t]){let e=o[t],n=[];for(let t=0;t<e.length-1;t++)n.push({points:[{x:e[t][0],y:e[t][1]},{x:e[t+1][0],y:e[t+1][1]}],isSpangram:!1});x(t=>{let a=t.filter(t=>!e.some(e=>e[0]===t.points[0].x&&e[1]===t.points[0].y||e[0]===t.points[1].x&&e[1]===t.points[1].y));return[...a,...n]})}else if(t===i){let t=new Set;Object.values(o).forEach(e=>{e.forEach(e=>t.add("".concat(e[0],",").concat(e[1])))});let e=[];n.forEach((n,a)=>{n.split("").forEach((n,r)=>{t.has("".concat(a,",").concat(r))||e.push({x:a,y:r,letter:n})})});let a=[],r=new Map;e.forEach(t=>r.set("".concat(t.x,",").concat(t.y),{asStart:!1,asEnd:!1}));let findPath=(t,n)=>{if(0===n.length)return t;let o=t[t.length-1],i=n[0];for(let c of e)if(c.letter===i&&isAdjacent(o,c)&&!r.get("".concat(c.x,",").concat(c.y)).asEnd&&!r.get("".concat(o.x,",").concat(o.y)).asStart){let e={points:[o,c],isSpangram:!0};if(isValidLine(o,c,a)){r.get("".concat(o.x,",").concat(o.y)).asStart=!0,r.get("".concat(c.x,",").concat(c.y)).asEnd=!0,a.push(e);let i=findPath([...t,c],n.slice(1));if(i)return i;a.pop(),r.get("".concat(o.x,",").concat(o.y)).asStart=!1,r.get("".concat(c.x,",").concat(c.y)).asEnd=!1}}return null};for(let t of e)if(t.letter===i[0]&&!r.get("".concat(t.x,",").concat(t.y)).asEnd){r.get("".concat(t.x,",").concat(t.y)).asEnd=!0;let e=findPath([t],i.slice(1));if(e){x(t=>{let e=t.filter(t=>!t.isSpangram);return[...e,...a]});return}r.get("".concat(t.x,",").concat(t.y)).asEnd=!1}}},clearAllLines=()=>{x([])},drawAllWords=()=>{clearAllLines();let t=[];Object.entries(o).forEach(e=>{let[n,a]=e;for(let e=0;e<a.length-1;e++)t.push({points:[{x:a[e][0],y:a[e][1]},{x:a[e+1][0],y:a[e+1][1]}],isSpangram:!1})});let e=new Set;Object.values(o).forEach(t=>{t.forEach(t=>e.add("".concat(t[0],",").concat(t[1])))});let a=[];n.forEach((t,n)=>{t.split("").forEach((t,r)=>{e.has("".concat(n,",").concat(r))||a.push({x:n,y:r,letter:t})})});let r=[],c=new Map;a.forEach(t=>c.set("".concat(t.x,",").concat(t.y),{asStart:!1,asEnd:!1}));let findPath=(t,e)=>{if(0===e.length)return t;let n=t[t.length-1],o=e[0];for(let i of a)if(i.letter===o&&isAdjacent(n,i)&&!c.get("".concat(i.x,",").concat(i.y)).asEnd&&!c.get("".concat(n.x,",").concat(n.y)).asStart){let a={points:[n,i],isSpangram:!0};if(isValidLine(n,i,r)){c.get("".concat(n.x,",").concat(n.y)).asStart=!0,c.get("".concat(i.x,",").concat(i.y)).asEnd=!0,r.push(a);let o=findPath([...t,i],e.slice(1));if(o)return o;r.pop(),c.get("".concat(n.x,",").concat(n.y)).asStart=!1,c.get("".concat(i.x,",").concat(i.y)).asEnd=!1}}return null};for(let e of a)if(e.letter===i[0]&&!c.get("".concat(e.x,",").concat(e.y)).asEnd){c.get("".concat(e.x,",").concat(e.y)).asEnd=!0;let n=findPath([e],i.slice(1));if(n){t.push(...r);break}c.get("".concat(e.x,",").concat(e.y)).asEnd=!1}x(t)},clearWordLines=t=>{if(o[t]){let e=o[t];x(t=>t.filter(t=>!e.some(e=>e[0]===t.points[0].x&&e[1]===t.points[0].y||e[0]===t.points[1].x&&e[1]===t.points[1].y)))}else t===i&&x(t=>t.filter(t=>!t.isSpangram))};return(0,a.jsxs)(d.Z,{position:"relative",maxWidth:"100%",width:"".concat(6*u,"rem"),height:"".concat(8*u,"rem"),children:[(0,a.jsx)(m.ZP,{container:!0,spacing:0,children:n.map((t,e)=>t.split("").map((t,n)=>(0,a.jsx)(m.ZP,{item:!0,xs:2,children:(0,a.jsx)(d.Z,{display:"flex",justifyContent:"center",alignItems:"center",width:"".concat(u,"rem"),height:"".concat(u,"rem"),border:"1px solid #ccc",position:"relative",zIndex:1,children:(0,a.jsx)(s.Z,{component:"span",variant:"h6",style:{color:"black"},children:t})})},"".concat(e,"-").concat(n))))}),(0,a.jsx)("canvas",{ref:f,width:"".concat(6*u,"rem"),height:"".concat(8*u,"rem"),style:{position:"absolute",top:0,left:0,pointerEvents:"none",width:"100%",height:"100%",border:"2px solid #ccc"}})]})});var b=n(2450),S=n(2961),StrandsHintDisplay=function(t){var e,n,m,v,w,E,j,Z,A;let{responseData:C,isLargeScreenDevice:P}=t,T=null!==(E=null===(e=C.gameData)||void 0===e?void 0:e.startingBoard)&&void 0!==E?E:[],M=null!==(j=null===(n=C.gameData)||void 0===n?void 0:n.themeWords)&&void 0!==j?j:[],L=null!==(Z=null===(m=C.gameData)||void 0===m?void 0:m.themeCoords)&&void 0!==Z?Z:[],W=null!==(A=null===(v=C.gameData)||void 0===v?void 0:v.spangram)&&void 0!==A?A:"",k=[W,...M],[F,R]=r.useState(()=>[...Array(k.length).fill(!1)]),[z,D]=r.useState(!1),[H,I]=r.useState(!1),V=r.useRef(),B=(0,o.Z)(),handleHintToggleVisibility=t=>{R(e=>{let n=e.map((e,n)=>n===t?!e:e),a=n.every(t=>!0===t);return D(a),0===t&&I(n[0]),n[t]?drawWord(k[t]):clearWordLines(k[t]),n})},setAllHintsVisibleStates=()=>{R(t=>{let e=Array(F.length).fill(!z);return D(!z),I(!z),z?clearAllLines():drawAllWords(),e})},drawWord=t=>{V.current&&V.current.drawWord(t)},clearAllLines=()=>{V.current&&V.current.clearAllLines()},clearWordLines=t=>{V.current&&V.current.clearWordLines(t)},drawAllWords=()=>{V.current&&V.current.drawAllWords()};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(i.Z,{defaultExpanded:!0,sx:{backgroundColor:"#E3F4F9","&.Mui-expanded":{marginTop:"".concat(B.spacing(2)," !important"),backgroundColor:"#E3F4F9"},borderRadius:"0.75rem !important",boxShadow:"0 0.25rem 0.375rem rgba(0, 0, 0, 0.08) !important","&:before":{display:"none"},"& .MuiCollapse-root":{borderBottomLeftRadius:"0.75rem",borderBottomRightRadius:"0.75rem"}},children:[(0,a.jsx)(c.Z,{expandIcon:(0,a.jsx)(h.Z,{}),id:"panel-header","aria-controls":"panel-content",children:(0,a.jsx)(s.Z,{sx:{fontWeight:500,fontSize:{xs:"1rem",sm:"1.1rem"}},children:"Step-by-step Hints & Answers"})}),(0,a.jsxs)(l.Z,{children:[(0,a.jsx)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:3},children:(0,a.jsx)(s.Z,{fontWeight:"bold",dangerouslySetInnerHTML:{__html:'TODAY’S THEME: <span style="color:'.concat(B.palette.primary.main,'">').concat(null===(w=C.gameData)||void 0===w?void 0:w.clue,"</span>")}})}),(0,a.jsx)(s.Z,{variant:"caption",sx:{fontSize:{xs:"0.875rem",sm:"0.9rem"},fontStyle:"italic",color:"text.secondary",display:"flex",justifyContent:"center",mb:3},children:"Click a bubble below to reveal a word and its path."}),(0,a.jsx)(x.Z,{spacing:1,direction:"row",useFlexGap:!0,flexWrap:"wrap",justifyContent:"center",children:k.map((t,e)=>(0,a.jsx)(f.Z,{label:F[e]?t:(0,a.jsx)(g.Z,{fontSize:"small"}),size:"medium",sx:{fontWeight:F[e]?"bold":"normal",color:F[e]?"#000000":"#FFFFFF",bgcolor:0===e?"#f8cb2c":"#AEDFEE",cursor:"pointer",boxShadow:"0 2px 4px ".concat(0===e?"rgba(248,203,44,0.4)":"rgba(174,223,238,0.4)"),border:"1px solid ".concat(0===e?"rgba(248,203,44,0.3)":"rgba(174,223,238,0.3)"),transition:"all 0.2s ease-in-out","&:hover":{bgcolor:0===e?"#ffd747":"#BEE6F2",boxShadow:"0 4px 8px ".concat(0===e?"rgba(248,203,44,0.5)":"rgba(174,223,238,0.5)"),transform:"translateY(-1px)",border:"1px solid ".concat(0===e?"rgba(248,203,44,0.4)":"rgba(174,223,238,0.4)")},"&:active":{transform:"translateY(1px)",boxShadow:"0 1px 2px ".concat(0===e?"rgba(248,203,44,0.3)":"rgba(174,223,238,0.3)")},"&:focus":{bgcolor:0===e?"#f8cb2c":"#AEDFEE",outline:"none"}},onClick:()=>handleHintToggleVisibility(e)},e))}),(0,a.jsx)(d.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",mt:3},children:(0,a.jsx)(y,{ref:V,startingBoard:T,themeCoords:L,spangram:W,isLargeScreenDevice:P})})]}),(0,a.jsx)(p.Z,{sx:{padding:"8px 16px 16px",borderTop:"none"},children:(0,a.jsx)(u.Z,{variant:"contained",startIcon:z?(0,a.jsx)(b.Z,{sx:{fontSize:"1.1rem"}}):(0,a.jsx)(S.Z,{sx:{fontSize:"1.1rem"}}),onClick:()=>setAllHintsVisibleStates(),sx:{textTransform:"none",fontSize:"0.9rem",fontWeight:500,backgroundColor:"rgba(0, 0, 0, 0.08)",color:"rgba(0, 0, 0, 0.8)",boxShadow:"none","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.12)",boxShadow:"none"},borderRadius:"6px",py:.75},children:z?"Hide Answers":"Reveal Answers"})})]})})}}}]);