"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{3094:function(t,e,a){var r=a(4836);e.Z=void 0;var n=r(a(4938)),o=a(5893);e.Z=(0,n.default)((0,o.jsx)("path",{d:"M11.07 12.85c.77-1.39 2.25-2.21 3.11-3.44.91-1.29.4-3.7-2.18-3.7-1.69 0-2.52 1.28-2.87 2.34L6.54 6.96C7.25 4.83 9.18 3 11.99 3c2.35 0 3.96 1.07 4.78 2.41.7 1.15 1.11 3.3.03 4.9-1.2 1.77-2.35 2.31-2.97 3.45-.25.46-.35.76-.35 2.24h-2.89c-.01-.78-.13-2.05.48-3.15M14 20c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2"}),"QuestionMark")},2961:function(t,e,a){var r=a(4836);e.Z=void 0;var n=r(a(4938)),o=a(5893);e.Z=(0,n.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},6242:function(t,e,a){a.d(e,{Z:function(){return m}});var r=a(7462),n=a(3366),o=a(7294),i=a(512),s=a(8510),l=a(948),c=a(8628),d=a(629),x=a(1977),u=a(5463);function getCardUtilityClass(t){return(0,u.ZP)("MuiCard",t)}(0,x.Z)("MuiCard",["root"]);var f=a(5893);let p=["className","raised"],useUtilityClasses=t=>{let{classes:e}=t;return(0,s.Z)({root:["root"]},getCardUtilityClass,e)},g=(0,l.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),h=o.forwardRef(function(t,e){let a=(0,c.i)({props:t,name:"MuiCard"}),{className:o,raised:s=!1}=a,l=(0,n.Z)(a,p),d=(0,r.Z)({},a,{raised:s}),x=useUtilityClasses(d);return(0,f.jsx)(g,(0,r.Z)({className:(0,i.Z)(x.root,o),elevation:s?8:void 0,ref:e,ownerState:d},l))});var m=h},2023:function(t,e,a){a.d(e,{Z:function(){return h}});var r=a(3366),n=a(7462),o=a(7294),i=a(512),s=a(8510),l=a(948),c=a(8628),d=a(1977),x=a(5463);function getCardActionsUtilityClass(t){return(0,x.ZP)("MuiCardActions",t)}(0,d.Z)("MuiCardActions",["root","spacing"]);var u=a(5893);let f=["disableSpacing","className"],useUtilityClasses=t=>{let{classes:e,disableSpacing:a}=t;return(0,s.Z)({root:["root",!a&&"spacing"]},getCardActionsUtilityClass,e)},p=(0,l.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:a}=t;return[e.root,!a.disableSpacing&&e.spacing]}})(({ownerState:t})=>(0,n.Z)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),g=o.forwardRef(function(t,e){let a=(0,c.i)({props:t,name:"MuiCardActions"}),{disableSpacing:o=!1,className:s}=a,l=(0,r.Z)(a,f),d=(0,n.Z)({},a,{disableSpacing:o}),x=useUtilityClasses(d);return(0,u.jsx)(p,(0,n.Z)({className:(0,i.Z)(x.root,s),ownerState:d,ref:e},l))});var h=g},4267:function(t,e,a){a.d(e,{Z:function(){return h}});var r=a(7462),n=a(3366),o=a(7294),i=a(512),s=a(8510),l=a(948),c=a(8628),d=a(1977),x=a(5463);function getCardContentUtilityClass(t){return(0,x.ZP)("MuiCardContent",t)}(0,d.Z)("MuiCardContent",["root"]);var u=a(5893);let f=["className","component"],useUtilityClasses=t=>{let{classes:e}=t;return(0,s.Z)({root:["root"]},getCardContentUtilityClass,e)},p=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),g=o.forwardRef(function(t,e){let a=(0,c.i)({props:t,name:"MuiCardContent"}),{className:o,component:s="div"}=a,l=(0,n.Z)(a,f),d=(0,r.Z)({},a,{component:s}),x=useUtilityClasses(d);return(0,u.jsx)(p,(0,r.Z)({as:s,className:(0,i.Z)(x.root,o),ownerState:d,ref:e},l))});var h=g},951:function(t,e,a){a.r(e),a.d(e,{default:function(){return StrandsHintDisplay}});var r=a(5893),n=a(7294),o=a(2734),i=a(6242),s=a(4267),l=a(5861),c=a(1233),d=a(7918),x=a(5616),u=a(2023),f=a(9417),p=a(3094),g=a(6886);let h=n.forwardRef((t,e)=>{let{startingBoard:a,themeCoords:o,spangram:i,isLargeScreenDevice:s}=t,[c,d]=n.useState([]),u=n.useRef(null),f=s?1.05:1.25,p=3.125/f,h=.9375/f,m=.4/f;n.useEffect(()=>{drawBoard()},[c]),n.useImperativeHandle(e,()=>({drawAllWords,drawWord,clearAllLines,clearWordLines}));let drawBoard=()=>{let t=u.current,e=t.getContext("2d"),a=window.devicePixelRatio||1,r=t.getBoundingClientRect();t.width=r.width*a,t.height=r.height*a,e.scale(a,a),e.clearRect(0,0,t.width,t.height);let remToPx=t=>t*parseFloat(getComputedStyle(document.documentElement).fontSize);function drawLine(t){e.beginPath(),e.strokeStyle=t.isSpangram?"#f8cb2c":"#4A82C3",e.lineWidth=remToPx(m),e.moveTo(t.points[0].y*remToPx(p)+remToPx(p)/2,t.points[0].x*remToPx(p)+remToPx(p)/2),e.lineTo(t.points[1].y*remToPx(p)+remToPx(p)/2,t.points[1].x*remToPx(p)+remToPx(p)/2),e.stroke(),e.fillStyle=t.isSpangram?"#f8cb2c":"#4A82C3",t.points.forEach(t=>{e.beginPath(),e.arc(t.y*remToPx(p)+remToPx(p)/2,t.x*remToPx(p)+remToPx(p)/2,remToPx(h),0,2*Math.PI),e.fill()})}c.filter(t=>!t.isSpangram).forEach(drawLine),c.filter(t=>t.isSpangram).forEach(drawLine)},isAdjacent=(t,e)=>{let a=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);return a<=1&&r<=1&&!(0===a&&0===r)},isValidLine=(t,e,a)=>{let r=e.x-t.x,n=e.y-t.y,o=Math.max(Math.abs(r),Math.abs(n));for(let e=1;e<o;e++){let i=t.x+r*(e/o),s=t.y+n*(e/o);for(let e of a){let[a,r]=e.points;if(intersects(t,{x:i,y:s},a,r))return!1}}return!0},intersects=(t,e,a,r)=>(r.y-t.y)*(a.x-t.x)>(a.y-t.y)*(r.x-t.x)!=(r.y-e.y)*(a.x-e.x)>(a.y-e.y)*(r.x-e.x)&&(a.y-t.y)*(e.x-t.x)>(e.y-t.y)*(a.x-t.x)!=(r.y-t.y)*(e.x-t.x)>(e.y-t.y)*(r.x-t.x),drawWord=t=>{if(o[t]){let e=o[t],a=[];for(let t=0;t<e.length-1;t++)a.push({points:[{x:e[t][0],y:e[t][1]},{x:e[t+1][0],y:e[t+1][1]}],isSpangram:!1});d(t=>{let r=t.filter(t=>!e.some(e=>e[0]===t.points[0].x&&e[1]===t.points[0].y||e[0]===t.points[1].x&&e[1]===t.points[1].y));return[...r,...a]})}else if(t===i){let t=new Set;Object.values(o).forEach(e=>{e.forEach(e=>t.add("".concat(e[0],",").concat(e[1])))});let e=[];a.forEach((a,r)=>{a.split("").forEach((a,n)=>{t.has("".concat(r,",").concat(n))||e.push({x:r,y:n,letter:a})})});let r=[],n=new Map;e.forEach(t=>n.set("".concat(t.x,",").concat(t.y),{asStart:!1,asEnd:!1}));let findPath=(t,a)=>{if(0===a.length)return t;let o=t[t.length-1],i=a[0];for(let s of e)if(s.letter===i&&isAdjacent(o,s)&&!n.get("".concat(s.x,",").concat(s.y)).asEnd&&!n.get("".concat(o.x,",").concat(o.y)).asStart){let e={points:[o,s],isSpangram:!0};if(isValidLine(o,s,r)){n.get("".concat(o.x,",").concat(o.y)).asStart=!0,n.get("".concat(s.x,",").concat(s.y)).asEnd=!0,r.push(e);let i=findPath([...t,s],a.slice(1));if(i)return i;r.pop(),n.get("".concat(o.x,",").concat(o.y)).asStart=!1,n.get("".concat(s.x,",").concat(s.y)).asEnd=!1}}return null};for(let t of e)if(t.letter===i[0]&&!n.get("".concat(t.x,",").concat(t.y)).asEnd){n.get("".concat(t.x,",").concat(t.y)).asEnd=!0;let e=findPath([t],i.slice(1));if(e){d(t=>{let e=t.filter(t=>!t.isSpangram);return[...e,...r]});return}n.get("".concat(t.x,",").concat(t.y)).asEnd=!1}}},clearAllLines=()=>{d([])},drawAllWords=()=>{clearAllLines();let t=[];Object.entries(o).forEach(e=>{let[a,r]=e;for(let e=0;e<r.length-1;e++)t.push({points:[{x:r[e][0],y:r[e][1]},{x:r[e+1][0],y:r[e+1][1]}],isSpangram:!1})});let e=new Set;Object.values(o).forEach(t=>{t.forEach(t=>e.add("".concat(t[0],",").concat(t[1])))});let r=[];a.forEach((t,a)=>{t.split("").forEach((t,n)=>{e.has("".concat(a,",").concat(n))||r.push({x:a,y:n,letter:t})})});let n=[],s=new Map;r.forEach(t=>s.set("".concat(t.x,",").concat(t.y),{asStart:!1,asEnd:!1}));let findPath=(t,e)=>{if(0===e.length)return t;let a=t[t.length-1],o=e[0];for(let i of r)if(i.letter===o&&isAdjacent(a,i)&&!s.get("".concat(i.x,",").concat(i.y)).asEnd&&!s.get("".concat(a.x,",").concat(a.y)).asStart){let r={points:[a,i],isSpangram:!0};if(isValidLine(a,i,n)){s.get("".concat(a.x,",").concat(a.y)).asStart=!0,s.get("".concat(i.x,",").concat(i.y)).asEnd=!0,n.push(r);let o=findPath([...t,i],e.slice(1));if(o)return o;n.pop(),s.get("".concat(a.x,",").concat(a.y)).asStart=!1,s.get("".concat(i.x,",").concat(i.y)).asEnd=!1}}return null};for(let e of r)if(e.letter===i[0]&&!s.get("".concat(e.x,",").concat(e.y)).asEnd){s.get("".concat(e.x,",").concat(e.y)).asEnd=!0;let a=findPath([e],i.slice(1));if(a){t.push(...n);break}s.get("".concat(e.x,",").concat(e.y)).asEnd=!1}d(t)},clearWordLines=t=>{if(o[t]){let e=o[t];d(t=>t.filter(t=>!e.some(e=>e[0]===t.points[0].x&&e[1]===t.points[0].y||e[0]===t.points[1].x&&e[1]===t.points[1].y)))}else t===i&&d(t=>t.filter(t=>!t.isSpangram))};return(0,r.jsxs)(x.Z,{position:"relative",maxWidth:"100%",width:"".concat(6*p,"rem"),height:"".concat(8*p,"rem"),children:[(0,r.jsx)(g.ZP,{container:!0,spacing:0,children:a.map((t,e)=>t.split("").map((t,a)=>(0,r.jsx)(g.ZP,{item:!0,xs:2,children:(0,r.jsx)(x.Z,{display:"flex",justifyContent:"center",alignItems:"center",width:"".concat(p,"rem"),height:"".concat(p,"rem"),border:"1px solid #A8B9BF",position:"relative",zIndex:1,children:(0,r.jsx)(l.Z,{component:"span",variant:"h6",style:{color:"#333333"},children:t})})},"".concat(e,"-").concat(a))))}),(0,r.jsx)("canvas",{ref:u,width:"".concat(6*p,"rem"),height:"".concat(8*p,"rem"),style:{position:"absolute",top:0,left:0,pointerEvents:"none",width:"100%",height:"100%",border:"2px solid #A8B9BF"}})]})});var m=a(2450),y=a(2961),StrandsHintDisplay=function(t){var e,a,g,b,C,v,S,Z;let{responseData:w,isLargeScreenDevice:j}=t,E=null!==(C=null===(e=w.gameData)||void 0===e?void 0:e.startingBoard)&&void 0!==C?C:[],A=null!==(v=null===(a=w.gameData)||void 0===a?void 0:a.themeWords)&&void 0!==v?v:[],P=null!==(S=null===(g=w.gameData)||void 0===g?void 0:g.themeCoords)&&void 0!==S?S:[],M=null!==(Z=null===(b=w.gameData)||void 0===b?void 0:b.spangram)&&void 0!==Z?Z:"",T=[M,...A],[L,R]=n.useState(()=>[...Array(T.length).fill(!1)]),[W,k]=n.useState(!1),[F,B]=n.useState(!1),U=n.useRef(),z=(0,o.Z)(),handleHintToggleVisibility=t=>{R(e=>{let a=e.map((e,a)=>a===t?!e:e),r=a.every(t=>!0===t);return k(r),0===t&&B(a[0]),a[t]?drawWord(T[t]):clearWordLines(T[t]),a})},setAllHintsVisibleStates=()=>{R(t=>{let e=Array(L.length).fill(!W);return k(!W),B(!W),W?clearAllLines():drawAllWords(),e})},drawWord=t=>{U.current&&U.current.drawWord(t)},clearAllLines=()=>{U.current&&U.current.clearAllLines()},clearWordLines=t=>{U.current&&U.current.clearWordLines(t)},drawAllWords=()=>{U.current&&U.current.drawAllWords()},getChipStyles=t=>({fontWeight:L[t]?"bold":"normal",color:"#FFFFFF",bgcolor:0===t?"#f8cb2c":"#4A82C3",cursor:"pointer",boxShadow:"0 2px 4px ".concat(0===t?"rgba(248,203,44,0.4)":"rgba(174,223,238,0.4)"),border:"1px solid ".concat(0===t?"rgba(248,203,44,0.3)":"rgba(174,223,238,0.3)"),transition:"all 0.2s ease-in-out","&:hover":{bgcolor:0===t?"#ffd747":"#6C9AD0",boxShadow:"0 4px 8px ".concat(0===t?"rgba(248,203,44,0.5)":"rgba(174,223,238,0.5)"),transform:"translateY(-1px)",border:"1px solid ".concat(0===t?"rgba(248,203,44,0.4)":"rgba(174,223,238,0.4)")},"&:active":{transform:"translateY(1px)",boxShadow:"0 1px 2px ".concat(0===t?"rgba(248,203,44,0.3)":"rgba(174,223,238,0.3)")},"&:focus":{bgcolor:0===t?"#f8cb2c":"#4A82C3",outline:"none"}});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(i.Z,{sx:{backgroundColor:"#E3F4F9",marginTop:"".concat(z.spacing(2)," !important"),borderRadius:"0.75rem !important",boxShadow:"0 0.25rem 0.375rem rgba(0, 0, 0, 0.08) !important","& .MuiCardContent-root":{borderBottomLeftRadius:"0.75rem",borderBottomRightRadius:"0.75rem"}},children:[(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(l.Z,{sx:{fontSize:{xs:"0.8rem",sm:"0.9rem"},fontStyle:"italic",color:"text.secondary",display:"flex",justifyContent:"center",mb:3},children:"Click a blue bubble to reveal a theme word. The final yellow bubble reveals the spangram.."}),(0,r.jsxs)(c.Z,{spacing:1,direction:"row",useFlexGap:!0,flexWrap:"wrap",justifyContent:"center",children:[T.map((t,e)=>0===e?null:(0,r.jsx)(d.Z,{label:L[e]?t:(0,r.jsx)(p.Z,{fontSize:"small"}),size:"medium",sx:getChipStyles(e),onClick:()=>handleHintToggleVisibility(e)},e)),(0,r.jsx)(d.Z,{label:L[0]?T[0]:(0,r.jsx)(p.Z,{fontSize:"small"}),size:"medium",sx:getChipStyles(0),onClick:()=>handleHintToggleVisibility(0)},0)]}),(0,r.jsx)(x.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",mt:3},children:(0,r.jsx)(h,{ref:U,startingBoard:E,themeCoords:P,spangram:M,isLargeScreenDevice:j})})]}),(0,r.jsx)(u.Z,{sx:{padding:"8px 16px 16px",borderTop:"none",justifyContent:"flex-end"},children:(0,r.jsx)(f.Z,{variant:"contained",startIcon:W?(0,r.jsx)(m.Z,{sx:{fontSize:"1.1rem"}}):(0,r.jsx)(y.Z,{sx:{fontSize:"1.1rem"}}),onClick:()=>setAllHintsVisibleStates(),sx:{textTransform:"none",fontSize:"0.9rem",fontWeight:500,backgroundColor:"rgba(0, 0, 0, 0.08)",color:"rgba(0, 0, 0, 0.8)",boxShadow:"none","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.12)",boxShadow:"none"},borderRadius:"6px",py:.75},children:W?"Hide Answers":"Reveal Answers"})})]})})}}}]);