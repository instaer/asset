(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[801],{7622:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/strands",function(){return n(6014)}])},6014:function(e,t,n){"use strict";n.r(t),n.d(t,{Strands:function(){return Strands},__N_SSP:function(){return O},default:function(){return WordlePage}});var a=n(5893),r=n(4993),i=n(4080),s=n(366),o=n(7294),l=n(6950),c=n(2734),d=n(4558),h=n(1233),x=n(5616),u=n(5861),p=n(1519),m=n(480),g=n(9653),f=n(9417),y=n(2280),w=n(8895),j=n(2797),b=n(8456),Z=n(7918),v=n(2180),S=n(7285),k=n(3508),D=n(2961),E=n(2450),P=n(9217),T=n(2761),W=n(3328),A=n(3890),C=n(9606),I=n(3094),L=n(586),_=n(720),H=n(7610),M=n(7484),F=n.n(M),N=n(1221),Y=n(6886);let q=o.forwardRef((e,t)=>{let{startingBoard:n,themeCoords:r,spangram:i,isLargeScreenDevice:s}=e,[l,c]=o.useState([]),d=o.useRef(null),h=s?1.15:1.3,p=3.125/h,m=.9375/h,g=.4/h;o.useEffect(()=>{drawBoard()},[l]),o.useImperativeHandle(t,()=>({drawAllWords,drawWord,clearAllLines,clearWordLines}));let drawBoard=()=>{let e=d.current,t=e.getContext("2d"),n=window.devicePixelRatio||1,a=e.getBoundingClientRect();e.width=a.width*n,e.height=a.height*n,t.scale(n,n),t.clearRect(0,0,e.width,e.height);let remToPx=e=>e*parseFloat(getComputedStyle(document.documentElement).fontSize);function drawLine(e){t.beginPath(),t.strokeStyle=e.isSpangram?"#f8cb2c":"#aedfee",t.lineWidth=remToPx(g),t.moveTo(e.points[0].y*remToPx(p)+remToPx(p)/2,e.points[0].x*remToPx(p)+remToPx(p)/2),t.lineTo(e.points[1].y*remToPx(p)+remToPx(p)/2,e.points[1].x*remToPx(p)+remToPx(p)/2),t.stroke(),t.fillStyle=e.isSpangram?"#f8cb2c":"#aedfee",e.points.forEach(e=>{t.beginPath(),t.arc(e.y*remToPx(p)+remToPx(p)/2,e.x*remToPx(p)+remToPx(p)/2,remToPx(m),0,2*Math.PI),t.fill()})}l.filter(e=>!e.isSpangram).forEach(drawLine),l.filter(e=>e.isSpangram).forEach(drawLine)},isAdjacent=(e,t)=>{let n=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);return n<=1&&a<=1&&!(0===n&&0===a)},isValidLine=(e,t,n)=>{let a=t.x-e.x,r=t.y-e.y,i=Math.max(Math.abs(a),Math.abs(r));for(let t=1;t<i;t++){let s=e.x+a*(t/i),o=e.y+r*(t/i);for(let t of n){let[n,a]=t.points;if(intersects(e,{x:s,y:o},n,a))return!1}}return!0},intersects=(e,t,n,a)=>(a.y-e.y)*(n.x-e.x)>(n.y-e.y)*(a.x-e.x)!=(a.y-t.y)*(n.x-t.x)>(n.y-t.y)*(a.x-t.x)&&(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)!=(a.y-e.y)*(t.x-e.x)>(t.y-e.y)*(a.x-e.x),drawWord=e=>{if(r[e]){let t=r[e],n=[];for(let e=0;e<t.length-1;e++)n.push({points:[{x:t[e][0],y:t[e][1]},{x:t[e+1][0],y:t[e+1][1]}],isSpangram:!1});c(e=>{let a=e.filter(e=>!t.some(t=>t[0]===e.points[0].x&&t[1]===e.points[0].y||t[0]===e.points[1].x&&t[1]===e.points[1].y));return[...a,...n]})}else if(e===i){let e=new Set;Object.values(r).forEach(t=>{t.forEach(t=>e.add("".concat(t[0],",").concat(t[1])))});let t=[];n.forEach((n,a)=>{n.split("").forEach((n,r)=>{e.has("".concat(a,",").concat(r))||t.push({x:a,y:r,letter:n})})});let a=[],s=new Map;t.forEach(e=>s.set("".concat(e.x,",").concat(e.y),{asStart:!1,asEnd:!1}));let findPath=(e,n)=>{if(0===n.length)return e;let r=e[e.length-1],i=n[0];for(let o of t)if(o.letter===i&&isAdjacent(r,o)&&!s.get("".concat(o.x,",").concat(o.y)).asEnd&&!s.get("".concat(r.x,",").concat(r.y)).asStart){let t={points:[r,o],isSpangram:!0};if(isValidLine(r,o,a)){s.get("".concat(r.x,",").concat(r.y)).asStart=!0,s.get("".concat(o.x,",").concat(o.y)).asEnd=!0,a.push(t);let i=findPath([...e,o],n.slice(1));if(i)return i;a.pop(),s.get("".concat(r.x,",").concat(r.y)).asStart=!1,s.get("".concat(o.x,",").concat(o.y)).asEnd=!1}}return null};for(let e of t)if(e.letter===i[0]&&!s.get("".concat(e.x,",").concat(e.y)).asEnd){s.get("".concat(e.x,",").concat(e.y)).asEnd=!0;let t=findPath([e],i.slice(1));if(t){c(e=>{let t=e.filter(e=>!e.isSpangram);return[...t,...a]});return}s.get("".concat(e.x,",").concat(e.y)).asEnd=!1}}},clearAllLines=()=>{c([])},drawAllWords=()=>{clearAllLines();let e=[];Object.entries(r).forEach(t=>{let[n,a]=t;for(let t=0;t<a.length-1;t++)e.push({points:[{x:a[t][0],y:a[t][1]},{x:a[t+1][0],y:a[t+1][1]}],isSpangram:!1})});let t=new Set;Object.values(r).forEach(e=>{e.forEach(e=>t.add("".concat(e[0],",").concat(e[1])))});let a=[];n.forEach((e,n)=>{e.split("").forEach((e,r)=>{t.has("".concat(n,",").concat(r))||a.push({x:n,y:r,letter:e})})});let s=[],o=new Map;a.forEach(e=>o.set("".concat(e.x,",").concat(e.y),{asStart:!1,asEnd:!1}));let findPath=(e,t)=>{if(0===t.length)return e;let n=e[e.length-1],r=t[0];for(let i of a)if(i.letter===r&&isAdjacent(n,i)&&!o.get("".concat(i.x,",").concat(i.y)).asEnd&&!o.get("".concat(n.x,",").concat(n.y)).asStart){let a={points:[n,i],isSpangram:!0};if(isValidLine(n,i,s)){o.get("".concat(n.x,",").concat(n.y)).asStart=!0,o.get("".concat(i.x,",").concat(i.y)).asEnd=!0,s.push(a);let r=findPath([...e,i],t.slice(1));if(r)return r;s.pop(),o.get("".concat(n.x,",").concat(n.y)).asStart=!1,o.get("".concat(i.x,",").concat(i.y)).asEnd=!1}}return null};for(let t of a)if(t.letter===i[0]&&!o.get("".concat(t.x,",").concat(t.y)).asEnd){o.get("".concat(t.x,",").concat(t.y)).asEnd=!0;let n=findPath([t],i.slice(1));if(n){e.push(...s);break}o.get("".concat(t.x,",").concat(t.y)).asEnd=!1}c(e)},clearWordLines=e=>{if(r[e]){let t=r[e];c(e=>e.filter(e=>!t.some(t=>t[0]===e.points[0].x&&t[1]===e.points[0].y||t[0]===e.points[1].x&&t[1]===e.points[1].y)))}else e===i&&c(e=>e.filter(e=>!e.isSpangram))};return(0,a.jsxs)(x.Z,{position:"relative",maxWidth:"100%",width:"".concat(6*p,"rem"),height:"".concat(8*p,"rem"),children:[(0,a.jsx)(Y.ZP,{container:!0,spacing:0,children:n.map((e,t)=>e.split("").map((e,n)=>(0,a.jsx)(Y.ZP,{item:!0,xs:2,children:(0,a.jsx)(x.Z,{display:"flex",justifyContent:"center",alignItems:"center",width:"".concat(p,"rem"),height:"".concat(p,"rem"),border:"1px solid #ccc",position:"relative",zIndex:1,children:(0,a.jsx)(u.Z,{component:"span",variant:"h6",style:{color:"black"},children:e})})},"".concat(t,"-").concat(n))))}),(0,a.jsx)("canvas",{ref:d,width:"".concat(6*p,"rem"),height:"".concat(8*p,"rem"),style:{position:"absolute",top:0,left:0,pointerEvents:"none",width:"100%",height:"100%",border:"2px solid #ccc"}})]})}),z=l.K[2],B=[{q:"What can ".concat(z.title," do?"),a:"View today's ".concat(z.name," hints, reveal puzzle answers progressively, and access an archive of past ").concat(z.name," hints.")},{q:"When do ".concat(z.title," update?"),a:'Hints refresh daily, typically just after midnight Eastern Time, syncing with <a style="color:#006BD6;font-weight:500;text-decoration:underline;text-decoration-color: hsla(210, 100%, 45%, 0.4);" href="'.concat(z.gameAddress,'" target="_blank" rel="noopener nofollow">The New York Times - ').concat(z.name," Puzzle</a>. The update process usually takes only a few minutes. Check back if not immediately available.")},{q:"Is there a cost for ".concat(z.title,"?"),a:"Absolutely free! Created by fellow game enthusiasts to enhance your experience. No hidden charges or paid features - just enjoy the help!"},{q:"Can I access past ".concat(z.name," hints?"),a:'Yes! Explore the "Find archived hints" section to uncover hints from previous days. Note: Archives currently cover the past year only.'},{q:"How to use ".concat(z.name," hints without spoiling the fun?"),a:"Treat hints as gentle nudges, not direct answers. Challenge yourself first, then peek if stumped. This approach sharpens your skills while keeping the game exciting."},{q:"When should I use ".concat(z.name," hints?"),a:"Consider hints when you're stuck after multiple attempts, short on time, new to the game, or simply want a more relaxed solving experience. They're here to help!"},{q:"Does using ".concat(z.name," hints count as completing the game?"),a:"Absolutely! While it may be less challenging, using hints still provides valuable gameplay and learning. As you gain experience, you'll likely rely on them less. Keep playing and watch your skills grow!"}];var O=!0;function WordlePage(e){let{latestData:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{url:i.e.url+z.url,title:z.label+" - "+i.e.title,description:z.description,keywords:z.keywords,imageUrl:i.e.logoUrl}),(0,a.jsx)(r.Z,{selectedTabValue:z.index,TabComponent:()=>(0,a.jsx)(Strands,{tab:z,latestData:t})})]})}function Strands(e){var t,n,r;let{tab:i,latestData:s}=e,[l,b]=o.useState(null),[Z,v]=o.useState(null),[D,E]=o.useState(null),[I,M]=o.useState({loading:!1,error:null,data:{}}),[Y,q]=o.useState(!0),z=(0,c.Z)(),O=(0,d.Z)(z.breakpoints.up("sm"));o.useEffect(()=>{let e=new Date,t=new Date(e.toLocaleString("en-US",{timeZone:"America/New_York"})),n=new Date(t);n.setFullYear(t.getFullYear()-1),b(F()(n))},[]);let V=o.useMemo(()=>{switch(D){case"maxDate":case"minDate":return"Please select a date within the last year";case"invalidDate":return"Your date is not valid";default:return""}},[D]),formatSearchDate=e=>e?F()(e).format("YYYYMMDD"):"",handleSearchHints=async()=>{if(M(e=>({...e,loading:!0})),!Z){M({loading:!1,error:"Please select a date to view hints",data:{}});return}if(D){M({loading:!1,error:V,data:{}});return}let e={gameType:i.gameType,printDate:formatSearchDate(Z),timestamp:Date.now()},{encryptedContent:t,encryptedAesKey:n}=await (0,N.K)(JSON.stringify(e)),{result:a,error:r}=await (0,S.D2)("api/nyt-game-hint/search",{json:t,key:n});if(r){M({loading:!1,error:null==r?void 0:r.message,data:{}});return}let s=await (0,N.h)(null==a?void 0:a.body.json,null==a?void 0:a.body.key);if(a.body.gameData=JSON.parse(s),!a.body.gameData||(null==a?void 0:a.body.gameData.length)===0){M({loading:!1,error:"No hints found for this date",data:{}});return}M({loading:!1,error:null,data:null==a?void 0:a.body})};return(0,a.jsxs)(h.Z,{spacing:1,children:[(0,a.jsx)("header",{children:(0,a.jsxs)(x.Z,{display:"flex",flexDirection:"column",alignItems:"center",children:[(0,a.jsx)(u.Z,{variant:"h5",fontWeight:"bold",component:"h1",gutterBottom:!0,children:i.title}),(0,a.jsx)(u.Z,{variant:"subtitle1",component:"h2",color:"text.secondary",gutterBottom:!0,children:i.subTitle}),(0,a.jsx)(h.Z,{spacing:2,sx:{width:"100%",[z.breakpoints.up("sm")]:{width:"80%"},[z.breakpoints.up("md")]:{width:"55%"}},children:(0,a.jsx)(p.Z,{})})]})}),(0,a.jsxs)("main",{children:[(0,a.jsx)("section",{id:"nytimes-"+i.lowerName+"-hint-today",children:(null===(t=s.gameData)||void 0===t?void 0:t.hintContent)&&(0,a.jsx)(x.Z,{display:"flex",flexDirection:"column",alignItems:"center",children:(0,a.jsxs)(h.Z,{spacing:2,sx:{width:"100%",[z.breakpoints.up("sm")]:{width:"80%"},[z.breakpoints.up("md")]:{width:"55%"}},children:[(0,a.jsxs)(u.Z,{component:"h3",fontWeight:"bold",color:"primary",sx:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(W.Z,{sx:{mr:1}}),"Hints for ",s.printDate]}),(0,a.jsxs)(x.Z,{sx:{backgroundColor:"#f9df6d",padding:1},children:[(0,a.jsx)(m.Z,{control:(0,a.jsx)(g.Z,{checked:Y,onChange:e=>{q(e.target.checked)},inputProps:{"aria-label":"controlled"}}),label:(0,a.jsx)(u.Z,{sx:{fontWeight:"bold"},children:Y?"Expert Mode":"Beginner Mode"}),labelPlacement:"start"}),(0,a.jsx)(u.Z,{component:"div",dangerouslySetInnerHTML:{__html:Y?null===(n=s.gameData)||void 0===n?void 0:n.proHintContent:null===(r=s.gameData)||void 0===r?void 0:r.hintContent}})]}),(0,a.jsx)(p.Z,{})]})})}),(0,a.jsx)("section",{id:"nytimes-"+i.lowerName+"-hint-answer",children:(0,a.jsx)(x.Z,{display:"flex",flexDirection:"column",alignItems:"center",mt:1,children:(0,a.jsxs)(h.Z,{spacing:2,sx:{width:"100%",[z.breakpoints.up("sm")]:{width:"80%"},[z.breakpoints.up("md")]:{width:"55%"}},children:[(0,a.jsxs)(u.Z,{component:"h3",fontWeight:"bold",color:"primary",sx:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(P.Z,{sx:{mr:1}}),"Hinted Answers: Peek or Reveal"]}),(0,a.jsx)(HintDisplay,{responseData:s}),(0,a.jsx)(p.Z,{})]})})}),(0,a.jsx)("section",{id:"nytimes-"+i.lowerName+"-hint-archive-search",children:(0,a.jsxs)(x.Z,{display:"flex",flexDirection:"column",alignItems:"center",mt:1,children:[(0,a.jsxs)(h.Z,{spacing:2,sx:{width:"100%",[z.breakpoints.up("sm")]:{width:"80%"},[z.breakpoints.up("md")]:{width:"55%"}},children:[(0,a.jsxs)(u.Z,{component:"h3",fontWeight:"bold",color:"primary",sx:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(A.Z,{sx:{mr:1}}),"Find archived hints"]}),(0,a.jsxs)(h.Z,{direction:"row",spacing:1,children:[(0,a.jsx)(x.Z,{sx:{width:"75%"},children:(0,a.jsx)(_._,{dateAdapter:L.y,children:(0,a.jsx)(H.M,{label:"Select a date within the last year",value:Z,onChange:e=>v(e),minDate:l,views:["year","month","day"],format:"YYYY-MM-DD",disableFuture:!0,onError:e=>E(e),slotProps:{textField:{fullWidth:!0,size:"small"}}})})}),(0,a.jsx)(x.Z,{sx:{width:"25%"},children:(0,a.jsx)(f.Z,{variant:"outlined",size:"large",fullWidth:!0,onClick:()=>handleSearchHints(),disabled:I.loading,children:(0,a.jsx)(T.Z,{})})})]})]}),(0,a.jsxs)(h.Z,{spacing:2,mt:2,sx:{width:"100%",[z.breakpoints.up("sm")]:{width:"80%"},[z.breakpoints.up("md")]:{width:"55%"}},children:[(0,a.jsx)(SearchDisplay,{searchHints:I,isLargeScreenDevice:O}),(0,a.jsx)(p.Z,{})]})]})}),(0,a.jsx)("section",{id:"nytimes-"+i.lowerName+"-hint-faq",children:(0,a.jsx)(x.Z,{display:"flex",flexDirection:"column",alignItems:"center",mt:1,children:(0,a.jsxs)(h.Z,{spacing:2,sx:{width:"100%",[z.breakpoints.up("sm")]:{width:"80%"},[z.breakpoints.up("md")]:{width:"55%"}},children:[(0,a.jsxs)(u.Z,{component:"h3",fontWeight:"bold",color:"primary",sx:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(C.Z,{sx:{mr:1}}),i.name," Hints FAQ"]}),(0,a.jsx)(h.Z,{spacing:0,children:B.map((e,t)=>(0,a.jsxs)(y.Z,{sx:{border:0},children:[(0,a.jsx)(w.Z,{expandIcon:(0,a.jsx)(k.Z,{}),"aria-controls":"QA-".concat(t,"-answer"),id:"QA-".concat(t,"-question"),children:(0,a.jsx)(u.Z,{component:"h4",children:e.q})}),(0,a.jsx)(j.Z,{children:(0,a.jsx)(u.Z,{component:"p",color:"text.secondary",dangerouslySetInnerHTML:{__html:e.a}})})]},"QA-".concat(t)))})]})})})]})]})}function SearchDisplay(e){let{searchHints:t,isLargeScreenDevice:n}=e;return t.loading?(0,a.jsx)(x.Z,{display:"flex",alignItems:"center",justifyContent:"center",children:(0,a.jsx)(b.Z,{})}):t.error?(0,a.jsx)(u.Z,{color:"error",children:t.error}):t.data&&0!==Object.keys(t.data).length?(0,a.jsx)(HintDisplay,{responseData:t.data,isLargeScreenDevice:n}):(0,a.jsx)(a.Fragment,{})}function HintDisplay(e){var t,n,r,i,s,l,d,p,m;let{responseData:g,isLargeScreenDevice:b}=e,S=null!==(l=null===(t=g.gameData)||void 0===t?void 0:t.startingBoard)&&void 0!==l?l:[],P=null!==(d=null===(n=g.gameData)||void 0===n?void 0:n.themeWords)&&void 0!==d?d:[],T=null!==(p=null===(r=g.gameData)||void 0===r?void 0:r.themeCoords)&&void 0!==p?p:[],W=null!==(m=null===(i=g.gameData)||void 0===i?void 0:i.spangram)&&void 0!==m?m:"",A=[W,...P],[C,L]=o.useState(()=>[!0,...Array(A.length-1).fill(!1)]),[_,H]=o.useState(!1),M=o.useRef();o.useEffect(()=>{drawWord(A[0])},[]);let F=(0,c.Z)(),handleHintToggleVisibility=e=>{L(t=>{let n=t.map((t,n)=>n===e?!t:t),a=n.every(e=>!0===e);return H(a),n[e]?drawWord(A[e]):clearWordLines(A[e]),n})},setAllHintsVisibleStates=()=>{L(e=>{let t=Array(C.length).fill(!_);return H(!_),_?clearAllLines():drawAllWords(),t})},drawWord=e=>{M.current&&M.current.drawWord(e)},clearAllLines=()=>{M.current&&M.current.clearAllLines()},clearWordLines=e=>{M.current&&M.current.clearWordLines(e)},drawAllWords=()=>{M.current&&M.current.drawAllWords()};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(y.Z,{sx:{backgroundColor:"#e6e6e6","&.Mui-expanded":{backgroundColor:"#e6e6e6"}},children:[(0,a.jsx)(w.Z,{expandIcon:(0,a.jsx)(k.Z,{}),id:"panel-header","aria-controls":"panel-content",children:(0,a.jsxs)(u.Z,{children:[b?"Click":"Tap"," to reveal answers"]})}),(0,a.jsxs)(j.Z,{children:[(0,a.jsx)(x.Z,{sx:{display:"flex",alignItems:"center",mb:2},children:(0,a.jsx)(u.Z,{fontWeight:"bold",dangerouslySetInnerHTML:{__html:'TODAY’S THEME: <span style="color:'.concat(F.palette.primary.main,'">').concat(null===(s=g.gameData)||void 0===s?void 0:s.clue,"</span>")}})}),(0,a.jsx)(h.Z,{spacing:1,direction:"row",useFlexGap:!0,flexWrap:"wrap",children:A.map((e,t)=>(0,a.jsx)(Z.Z,{label:C[t]?e:(0,a.jsx)(I.Z,{fontSize:"small"}),size:"medium",sx:{fontWeight:C[t]?"bold":"normal",color:C[t]?"#000000":"#FFFFFF",bgcolor:0===t?"#f8cb2c":"#c0ddd9","&:focus":{bgcolor:0===t?"#f8cb2c":"#c0ddd9"}},onClick:()=>handleHintToggleVisibility(t)},t))}),(0,a.jsx)(x.Z,{sx:{flexGrow:1},mt:2,children:(0,a.jsx)(q,{ref:M,startingBoard:S,themeCoords:T,spangram:W,isLargeScreenDevice:b})})]}),(0,a.jsx)(v.Z,{children:(0,a.jsx)(f.Z,{variant:"outlined",startIcon:_?(0,a.jsx)(E.Z,{}):(0,a.jsx)(D.Z,{}),onClick:()=>setAllHintsVisibleStates(),children:_?"Hide Answers":"Reveal Answers"})})]})})}}},function(e){e.O(0,[106,519,886,145,774,888,179],function(){return e(e.s=7622)}),_N_E=e.O()}]);