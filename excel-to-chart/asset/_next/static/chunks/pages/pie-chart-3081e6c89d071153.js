(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929,948],{9876:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pie-chart",function(){return a(8948)}])},8948:function(e,n,a){"use strict";a.r(n),a.d(n,{Pie:function(){return Pie},PieAdvancedOptions:function(){return PieAdvancedOptions},default:function(){return PieChartPage}});var l=a(5893),t=a(7475),i=a(6550),r=a(7294),c=a(4054),s=a(7109),u=a(6815),o=a(3841),d=a(4253),p=a(315),h=a(9840),g=a(2734),f=a(7292),b=a(8625),x=a(4033),P=a(4318);let m=["None","Label Only","Value Only","Percentage Only","Label (Value)","Label (Percentage)","Value (Percentage)","Percentage (Value)"];function PieAdvancedOptions(e){let{formSize:n,chartOptions:a}=e,{arcLabelConfig:t,handleArcLabelConfigChange:i,pieInnerRadius:r,setPieInnerRadius:g}=a;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(c.Z,{size:n,fullWidth:!0,sx:{"& .MuiInputLabel-root":{color:"#2d2d2d"}},children:[(0,l.jsx)(P.Z,{label:"Inner Radius",defaultValue:r,minValue:0,onChange:e=>g(e),size:n,InputProps:{endAdornment:(0,l.jsx)(s.Z,{position:"end",children:"%"})}}),(0,l.jsx)(u.Z,{children:"Size of center hole (0% = pie, 50% = donut)."})]}),(0,l.jsxs)(c.Z,{size:n,fullWidth:!0,children:[(0,l.jsx)(o.Z,{shrink:!0,sx:{position:"absolute",backgroundColor:"background.paper",px:1,color:"#2d2d2d"},children:"Arc Label Settings"}),(0,l.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",gap:2,border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"0.25rem",p:{xs:2.5,sm:3}},children:[(0,l.jsxs)(c.Z,{size:n,fullWidth:!0,children:[(0,l.jsx)(o.Z,{id:"pie-display-select-label",children:"Display Format"}),(0,l.jsx)(p.Z,{labelId:"pie-display-select-label",id:"pie-display-select",value:t.displayType,label:"Display Format",onChange:e=>i("displayType",e.target.value),children:m.map((e,n)=>(0,l.jsx)(h.Z,{value:n,children:e},e))}),(0,l.jsx)(u.Z,{children:"Choose how labels appear on pie chart segments."})]}),(0,l.jsxs)(c.Z,{size:n,fullWidth:!0,children:[(0,l.jsx)(P.Z,{label:"Minimum Label Percentage",defaultValue:t.minPercentage,minValue:0,onChange:e=>i("minPercentage",e),size:n,InputProps:{endAdornment:(0,l.jsx)(s.Z,{position:"end",children:"%"})}}),(0,l.jsx)(u.Z,{children:"Set the minimum percentage to display labels."})]}),(0,l.jsxs)(c.Z,{size:n,fullWidth:!0,children:[(0,l.jsx)(P.Z,{label:"Label Position",defaultValue:t.radius,minValue:0,onChange:e=>i("radius",e),size:n,InputProps:{endAdornment:(0,l.jsx)(s.Z,{position:"end",children:"%"})}}),(0,l.jsx)(u.Z,{children:"Distance from center (50% = halfway from center)."})]})]})]})]})}function PieChartPage(){return(0,l.jsx)(t.Z,{CHART_TYPE:i.y[2],ChartComponent:e=>{let{dataset:n,chartOptions:a}=e;return(0,l.jsx)(Pie,{dataset:n,chartOptions:a})}})}function Pie(e){let{dataset:n,chartOptions:a}=e,t=(0,g.Z)(),i=(0,f.Z)(t.breakpoints.down("sm")),{dataColumns:c,dimensionColumn:s,colorStyle:u,chartWidth:o,marginConfig:d,legendConfig:p,arcLabelConfig:h,pieInnerRadius:P}=a,m=r.useMemo(()=>(0,x.pQ)(n,c,s),[n,c,s]);if(!s)return null;let j=function(e,n,a,l){let t=(0,x.Sk)(e.length,l),i=Object.keys(e[0]).find(e=>e!==a&&n.includes(e));return e.map((e,n)=>({id:n,value:e[i],label:e[a],color:t[n]}))}(m,c,s,u),Z=j.reduce((e,n)=>e+n.value,0);return(0,l.jsx)(b.u,{margin:d,height:parseInt(t.spacing(i?32:36)),width:o,series:[{data:j,arcLabel:e=>(function(e,n,a){var l,t,i;switch(e){case 0:default:return"";case 1:return"".concat(null!==(l=a.label)&&void 0!==l?l:"");case 2:return"".concat(a.value);case 3:return"".concat(calculatePercentage(a.value,n));case 4:return"".concat(null!==(t=a.label)&&void 0!==t?t:""," (").concat(a.value,")");case 5:return"".concat(null!==(i=a.label)&&void 0!==i?i:""," (").concat(calculatePercentage(a.value,n),")");case 6:return"".concat(a.value," (").concat(calculatePercentage(a.value,n),")");case 7:return"".concat(calculatePercentage(a.value,n)," (").concat(a.value,")")}})(h.displayType,Z,e),arcLabelMinAngle:3.6*h.minPercentage,arcLabelRadius:"".concat(h.radius,"%"),innerRadius:"".concat(P,"%")}],slotProps:{legend:{hidden:p.hidden,direction:p.direction,position:p.position,padding:p.padding}}})}function calculatePercentage(e,n){return(e/n*100).toFixed(2)+"%"}}},function(e){e.O(0,[628,625,120,774,888,179],function(){return e(e.s=9876)}),_N_E=e.O()}]);