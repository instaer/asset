(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[852,224],{5868:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/combo-chart",function(){return n(6224)}])},6224:function(t,e,n){"use strict";n.r(e),n.d(e,{Combo:function(){return Combo},default:function(){return ComboChartPage}});var a=n(5893),i=n(7475),r=n(6550),o=n(7294),s=n(2734),l=n(7292),c=n(5861),d=n(1256),u=n(1828),x=n(1526),h=n(7453),f=n(1509),p=n(5534),y=n(5125),m=n(2203),b=n(6866),g=n(9595),C=n(8503),_=n(143);function ComboChartPage(){return(0,a.jsx)(i.Z,{CHART_TYPE:r.y[4],ChartComponent:t=>{let{dataset:e,chartOptions:n}=t;return(0,a.jsx)(Combo,{dataset:e,chartOptions:n})}})}function Combo(t){let{dataset:e,chartOptions:n}=t,i=(0,s.Z)(),r=(0,l.Z)(i.breakpoints.down("sm")),{chartTitle:j,dataColumns:v,dimensionColumn:T,dualYAxisConfig:w,sortOption:k,filterOption:N,aggregationOption:E,sampleOption:S,colorStyle:A,chartWidth:I,marginConfig:P,legendConfig:M,showGridLine:F,barLabelType:O,lineStyle:Z,yAxisScaleType:z,yAxisLabelConfig:K,rightYAxisLabelConfig:W,xAxisLabelConfig:X}=n,q=(0,_.oy)(),{localDataset:B,localDataColumns:G}=o.useMemo(()=>(0,C.pQ)(e,v,T,k,N,E,S),[e,v,T,k,N,E,S]);if(!T&&!B)return null;let H=_.c3.includes(E.displayMethod)?t=>"".concat(t,"%"):t=>"".concat(t),L=function(t,e,n,a,i,r,o){if(!t.length)return[];let s=Object.keys(t[0]).filter(t=>t!==n&&e.includes(t)),l=(0,C.Sk)(s.length,i);return s.flatMap((t,e)=>{let n=a.primaryColumns.includes(t),i=n?a.primaryChartType:a.secondaryChartType,s=n?"left-y-axis-id":"right-y-axis-id";return"0"===i?[{type:"bar",dataKey:t,label:t,color:l[e],valueFormatter:o,id:"bar-".concat(e),yAxisId:s}]:[{type:"line",dataKey:t,label:t,color:l[e],showMark:!0,connectNulls:!0,curve:r,valueFormatter:o,id:"line-".concat(e),yAxisId:s}]})}(B,G,T,w,A,Z,H);return(0,a.jsxs)(a.Fragment,{children:[j&&(0,a.jsx)(c.Z,{variant:"h6",align:"center",sx:{fontWeight:600,fontSize:"1.2rem",color:"text.primary",mt:1},children:j}),(0,a.jsxs)(d.B,{margin:P,dataset:B,height:parseInt(i.spacing(r?32:36)),width:I||q.minChartWidth,series:L,xAxis:[{id:"x-axis-id",dataKey:T,scaleType:"band",valueFormatter:t=>t.toString()}],yAxis:[{id:"left-y-axis-id",valueFormatter:C.gs,scaleType:"0"===w.primaryChartType?"linear":z},{id:"right-y-axis-id",valueFormatter:C.gs,scaleType:"0"===w.secondaryChartType?"linear":z}],sx:{"&&":{touchAction:"auto"},[".".concat(u.x.left," .").concat(u.x.label)]:{transform:"translate(".concat(K.x_offset,"px, 0)")},[".".concat(u.x.right," .").concat(u.x.label)]:{transform:"translate(".concat(W.x_offset,"px, 0)")},[".".concat(u.x.bottom," .").concat(u.x.label)]:{transform:"translate(0, ".concat(X.y_offset,"px)")}},children:[(0,a.jsx)(x.E,{barLabel:(t,e)=>(function(t,e,n,a){switch(t){case 0:default:return"";case 1:var i,r;return _.c3.includes(a.displayMethod)?(null===(i=e.value)||void 0===i?void 0:i.toString())+"%":null===(r=e.value)||void 0===r?void 0:r.toString()}})(O,t,0,E)}),(0,a.jsx)(h.e,{}),(0,a.jsx)(f.i,{}),(0,a.jsx)(p.U,{label:X.text,position:"bottom",axisId:"x-axis-id"}),(0,a.jsx)(y.N,{label:K.text,position:"left",axisId:"left-y-axis-id"}),!function(t,e){if(t.length!==e.length)return!1;let n=[...t].sort(),a=[...e].sort();return n.every((t,e)=>t===a[e])}(v.filter(t=>t!==T).sort(),w.primaryColumns.sort())&&(0,a.jsx)(y.N,{label:W.text,position:"right",axisId:"right-y-axis-id"}),(0,a.jsx)(m.G,{slotProps:{legend:{hidden:M.hidden,direction:M.direction,position:M.position,padding:M.padding,labelStyle:{fontSize:"small"}}}}),(0,a.jsx)(b.a,{trigger:"axis"}),(0,a.jsx)(g.q,{horizontal:F})]})]})}}},function(t){t.O(0,[276,890,876,475,774,888,179],function(){return t(t.s=5868)}),_N_E=t.O()}]);