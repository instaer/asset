(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929,948],{4340:function(e,n,t){"use strict";t.d(n,{r:function(){return useSkipAnimation}});var a=t(7294),r=t(759);function useSkipAnimation(e){let{isInitialized:n,data:t}=a.useContext(r.s);if(!n)throw Error("MUI X: Could not find the animation ref context.\nIt looks like you rendered your component outside of a ChartsContainer parent component.");return e||t.skipAnimation}},9876:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pie-chart",function(){return t(8948)}])},8948:function(e,n,t){"use strict";t.r(n),t.d(n,{Pie:function(){return Pie},default:function(){return PieChartPage}});var a=t(5893),r=t(7475),c=t(6550),i=t(7294),l=t(2734),o=t(7292),u=t(5861),s=t(8625),d=t(8503),f=t(143);function PieChartPage(){return(0,a.jsx)(r.Z,{CHART_TYPE:c.y[2],ChartComponent:e=>{let{dataset:n,chartOptions:t}=e;return(0,a.jsx)(Pie,{dataset:n,chartOptions:t})}})}function Pie(e){let{dataset:n,chartOptions:t}=e,r=(0,l.Z)(),c=(0,o.Z)(r.breakpoints.down("sm")),{chartTitle:p,dataColumns:h,dimensionColumn:m,sortOption:P,filterOption:g,aggregationOption:v,sampleOption:b,colorStyle:C,chartWidth:k,marginConfig:_,legendConfig:y,arcLabelConfig:w,pieTopItems:x,pieInnerRadius:A}=t,j=(0,f.oy)(),{localDataset:E,localDataColumns:T}=i.useMemo(()=>{let e=(0,d.pQ)(n,h,m,P,g,v,b),t=processPieTopItems(e.localDataset,m,x);return{localDataset:t,localDataColumns:e.localDataColumns}},[n,h,m,P,g,v,b,x]);if(!m&&!E)return null;let I=f.c3.includes(v.displayMethod)?e=>"".concat(e.value,"%"):e=>"".concat(e.value),O=function(e,n,t,a){if(!e.length)return[];let r=(0,d.Sk)(e.length,a),c=Object.keys(e[0]).find(e=>e!==t&&n.includes(e));return e.map((e,n)=>({id:n,value:e[c],label:e[t],color:r[n]}))}(E,T,m,C),S=O.reduce((e,n)=>e+n.value,0);return(0,a.jsxs)(a.Fragment,{children:[p&&(0,a.jsx)(u.Z,{variant:"h6",align:"center",sx:{fontWeight:600,fontSize:"1.2rem",color:"text.primary",mt:1},children:p}),(0,a.jsx)(s.u,{margin:_,height:parseInt(r.spacing(c?32:36)),width:k||j.minChartWidth,series:[{data:O,valueFormatter:e=>I(e),arcLabel:e=>(function(e,n,t){var a,r,c;switch(e){case 0:default:return"";case 1:return"".concat(null!==(a=t.label)&&void 0!==a?a:"");case 2:return"".concat(t.value);case 3:return"".concat(calculatePercentage(t.value,n));case 4:return"".concat(null!==(r=t.label)&&void 0!==r?r:""," (").concat(t.value,")");case 5:return"".concat(null!==(c=t.label)&&void 0!==c?c:""," (").concat(calculatePercentage(t.value,n),")");case 6:return"".concat(t.value," (").concat(calculatePercentage(t.value,n),")");case 7:return"".concat(calculatePercentage(t.value,n)," (").concat(t.value,")")}})(w.displayType,S,e),arcLabelMinAngle:3.6*(w.minPercentage||j.minPieArcLabelMinAngle),arcLabelRadius:"".concat(w.radius||j.minPieArcLabelRadius,"%"),innerRadius:"".concat(A||j.minPieInnerRadius,"%")}],slotProps:{legend:{hidden:y.hidden,direction:y.direction,position:y.position,padding:y.padding,labelStyle:{fontSize:"small"}}}})]})}function calculatePercentage(e,n){return(e/n*100).toFixed(2)+"%"}let processPieTopItems=(e,n,t)=>{if(!t||e.length<=t)return e;let a=Object.keys(e[0]).find(e=>e!==n),r=[...e].sort((e,n)=>n[a]-e[a]),c=r.slice(0,t),i=r.slice(t).reduce((e,n)=>e+n[a],0);return[...c,{[n]:"Other",[a]:i}]}}},function(e){e.O(0,[560,181,625,475,774,888,179],function(){return e(e.s=9876)}),_N_E=e.O()}]);