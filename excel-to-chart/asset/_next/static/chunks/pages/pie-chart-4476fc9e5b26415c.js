(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929,948],{9876:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pie-chart",function(){return t(8948)}])},8948:function(e,n,t){"use strict";t.r(n),t.d(n,{Pie:function(){return Pie},__N_SSG:function(){return f},default:function(){return PieChartPage}});var a=t(5893),c=t(7475),r=t(6550),l=t(7294),i=t(2734),u=t(7292),o=t(5861),s=t(8625),d=t(8503),h=t(143),f=!0;function PieChartPage(){return(0,a.jsx)(c.Z,{CHART_TYPE:r.y[2],ChartComponent:e=>{let{dataset:n,chartOptions:t}=e;return(0,a.jsx)(Pie,{dataset:n,chartOptions:t})}})}function Pie(e){let{dataset:n,chartOptions:t}=e,c=(0,i.Z)(),r=(0,u.Z)(c.breakpoints.down("sm")),{chartTitle:f,dataColumns:p,dimensionColumn:P,sortOption:g,filterOption:m,aggregationOption:v,sampleOption:_,colorStyle:b,chartWidth:C,marginConfig:w,legendConfig:y,arcLabelConfig:k,pieTopItems:x,pieInnerRadius:j}=t,T=(0,h.oy)(),{localDataset:E,localDataColumns:N}=l.useMemo(()=>{let e=(0,d.pQ)(n,p,P,g,m,v,_),t=processPieTopItems(e.localDataset,P,x);return{localDataset:t,localDataColumns:e.localDataColumns}},[n,p,P,g,m,v,_,x]);if(!P&&!E)return null;let O=h.c3.includes(v.displayMethod)?e=>"".concat(e.value,"%"):e=>"".concat(e.value),S=function(e,n,t,a){if(!e.length)return[];let c=(0,d.Sk)(e.length,a),r=Object.keys(e[0]).find(e=>e!==t&&n.includes(e));return e.map((e,n)=>({id:n,value:e[r],label:e[t],color:c[n]}))}(E,N,P,b),A=S.reduce((e,n)=>e+n.value,0);return(0,a.jsxs)(a.Fragment,{children:[f&&(0,a.jsx)(o.Z,{variant:"h6",align:"center",sx:{fontWeight:600,fontSize:"1.2rem",color:"text.primary",mt:1},children:f}),(0,a.jsx)(s.u,{margin:w,height:parseInt(c.spacing(r?32:36)),width:C||T.minChartWidth,series:[{data:S,valueFormatter:e=>O(e),arcLabel:e=>(function(e,n,t){var a,c,r;switch(e){case 0:default:return"";case 1:return"".concat(null!==(a=t.label)&&void 0!==a?a:"");case 2:return"".concat(t.value);case 3:return"".concat(calculatePercentage(t.value,n));case 4:return"".concat(null!==(c=t.label)&&void 0!==c?c:""," (").concat(t.value,")");case 5:return"".concat(null!==(r=t.label)&&void 0!==r?r:""," (").concat(calculatePercentage(t.value,n),")");case 6:return"".concat(t.value," (").concat(calculatePercentage(t.value,n),")");case 7:return"".concat(calculatePercentage(t.value,n)," (").concat(t.value,")")}})(k.displayType,A,e),arcLabelMinAngle:3.6*(k.minPercentage||T.minPieArcLabelMinAngle),arcLabelRadius:"".concat(k.radius||T.minPieArcLabelRadius,"%"),innerRadius:"".concat(j||T.minPieInnerRadius,"%")}],slotProps:{legend:{hidden:y.hidden,direction:y.direction,position:y.position,padding:y.padding,labelStyle:{fontSize:"small"}}}})]})}function calculatePercentage(e,n){return(e/n*100).toFixed(2)+"%"}let processPieTopItems=(e,n,t)=>{if(!t||e.length<=t)return e;let a=Object.keys(e[0]).find(e=>e!==n),c=[...e].sort((e,n)=>n[a]-e[a]),r=c.slice(0,t),l=c.slice(t).reduce((e,n)=>e+n[a],0);return[...r,{[n]:"Other",[a]:l}]}}},function(e){e.O(0,[886,452,181,13,625,475,546,774,888,179],function(){return e(e.s=9876)}),_N_E=e.O()}]);