"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[224],{6224:function(t,e,a){a.r(e),a.d(e,{Combo:function(){return Combo},default:function(){return ComboChartPage}});var i=a(5893),r=a(7475),n=a(6550),o=a(7294),s=a(2734),l=a(7292),c=a(5861),d=a(1256),x=a(1828),u=a(1526),h=a(7453),p=a(1509),y=a(5534),f=a(5125),m=a(2203),g=a(6866),b=a(9595),C=a(8503),v=a(143);function ComboChartPage(){return(0,i.jsx)(r.Z,{CHART_TYPE:n.y[4],ChartComponent:t=>{let{dataset:e,chartOptions:a}=t;return(0,i.jsx)(Combo,{dataset:e,chartOptions:a})}})}function Combo(t){let{dataset:e,chartOptions:a}=t,r=(0,s.Z)(),n=(0,l.Z)(r.breakpoints.down("sm")),{chartTitle:j,dataColumns:T,dimensionColumn:k,dualYAxisConfig:_,sortOption:A,filterOption:S,aggregationOption:w,sampleOption:I,colorStyle:M,chartWidth:N,marginConfig:z,legendConfig:E,showGridLine:F,barLabelType:P,lineStyle:Z,axisScaleTypeConfig:K,yAxisLabelConfig:O,rightYAxisLabelConfig:W,xAxisLabelConfig:q}=a,B=(0,v.oy)(),G=K.yAxis,{localDataset:H,localDataColumns:L}=o.useMemo(()=>(0,C.pQ)(e,T,k,A,S,w,I),[e,T,k,A,S,w,I]);if(!k&&!H)return null;let Q=v.c3.includes(w.displayMethod)?t=>"".concat(t,"%"):t=>"".concat(t),R=function(t,e,a,i,r,n,o){if(!t.length)return[];let s=Object.keys(t[0]).filter(t=>t!==a&&e.includes(t)),l=(0,C.Sk)(s.length,r);return s.flatMap((t,e)=>{let a=i.primaryColumns.includes(t),r=a?i.primaryChartType:i.secondaryChartType,s=a?"left-y-axis-id":"right-y-axis-id";return"0"===r?[{type:"bar",dataKey:t,label:t,color:l[e],valueFormatter:o,id:"bar-".concat(e),yAxisId:s}]:[{type:"line",dataKey:t,label:t,color:l[e],showMark:!0,connectNulls:!0,curve:n,valueFormatter:o,id:"line-".concat(e),yAxisId:s}]})}(H,L,k,_,M,Z,Q);return(0,i.jsxs)(i.Fragment,{children:[j&&(0,i.jsx)(c.Z,{variant:"h6",align:"center",sx:{fontWeight:600,fontSize:"1.2rem",color:"text.primary",mt:1},children:j}),(0,i.jsxs)(d.B,{margin:z,dataset:H,height:parseInt(r.spacing(n?32:36)),width:N||B.minChartWidth,series:R,xAxis:[{id:"x-axis-id",dataKey:k,scaleType:"band",valueFormatter:t=>t.toString()}],yAxis:[{id:"left-y-axis-id",valueFormatter:C.gs,scaleType:"0"===_.primaryChartType?"linear":G},{id:"right-y-axis-id",valueFormatter:C.gs,scaleType:"0"===_.secondaryChartType?"linear":G}],sx:{"&&":{touchAction:"auto"},[".".concat(x.x.left," .").concat(x.x.label)]:{transform:"translate(".concat(O.x_offset,"px, 0)")},[".".concat(x.x.right," .").concat(x.x.label)]:{transform:"translate(".concat(W.x_offset,"px, 0)")},[".".concat(x.x.bottom," .").concat(x.x.label)]:{transform:"translate(0, ".concat(q.y_offset,"px)")}},children:[(0,i.jsx)(u.E,{barLabel:(t,e)=>(function(t,e,a,i){switch(t){case 0:default:return"";case 1:var r,n;return v.c3.includes(i.displayMethod)?(null===(r=e.value)||void 0===r?void 0:r.toString())+"%":null===(n=e.value)||void 0===n?void 0:n.toString()}})(P,t,0,w)}),(0,i.jsx)(h.e,{}),(0,i.jsx)(p.i,{}),(0,i.jsx)(y.U,{label:q.text,position:"bottom",axisId:"x-axis-id"}),(0,i.jsx)(f.N,{label:O.text,position:"left",axisId:"left-y-axis-id"}),!function(t,e){if(t.length!==e.length)return!1;let a=[...t].sort(),i=[...e].sort();return a.every((t,e)=>t===i[e])}(T.filter(t=>t!==k).sort(),_.primaryColumns.sort())&&(0,i.jsx)(f.N,{label:W.text,position:"right",axisId:"right-y-axis-id"}),(0,i.jsx)(m.G,{slotProps:{legend:{hidden:E.hidden,direction:E.direction,position:E.position,padding:E.padding,labelStyle:{fontSize:"small"}}}}),(0,i.jsx)(g.a,{trigger:"axis"}),(0,i.jsx)(b.q,{horizontal:F.horizontal,vertical:F.vertical})]})]})}}}]);