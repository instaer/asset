"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[517],{1517:function(t,e,a){a.r(e),a.d(e,{Bar:function(){return Bar},__N_SSG:function(){return p},default:function(){return BarChartPage}});var n=a(5893),l=a(7294),r=a(5898),i=a(1828),o=a(2734),s=a(7292),c=a(5861),d=a(8503),u=a(6550),x=a(7475),h=a(143),f=a(2729),p=!0;function BarChartPage(){return(0,n.jsx)(x.Z,{CHART_TYPE:u.y[0],ChartComponent:Bar})}function Bar(t){let{dataset:e,chartOptions:a}=t,u=(0,o.Z)(),x=(0,s.Z)(u.breakpoints.down("sm")),{chartTitle:p,dataColumns:v,dimensionColumn:b,stackColumns:g,sortOption:m,filterOption:y,aggregationOption:k,sampleOption:S,colorStyle:_,chartWidth:C,marginConfig:A,legendConfig:j,barDirection:B,showGridLine:P,barLabelType:w,axisRange:z,yAxisLabelConfig:T,xAxisLabelConfig:Z,xReferenceLineConfig:E}=a,M=(0,h.oy)(),{localDataset:N,localDataColumns:W}=l.useMemo(()=>(0,d.pQ)(e,v,b,m,y,k,S),[e,v,b,m,y,k,S]);if(!b&&!N)return null;let F=h.c3.includes(k.displayMethod)?t=>"".concat(t,"%"):t=>"".concat(t),K=function(t,e,a,n,l,r){if(!t.length)return[];let i=Object.keys(t[0]).filter(t=>t!==n&&e.includes(t)),o=(0,d.Sk)(i.length,l);return i.map((t,e)=>{let n={dataKey:t,label:t,color:o[e],valueFormatter:r};return a.length>=2&&a.includes(t)&&(n.stack=""),n})}(N,W,g,b,_,F),O=buildAxisProps(b,B,z,Z,T);return(0,n.jsxs)(n.Fragment,{children:[p&&(0,n.jsx)(c.Z,{variant:"h6",align:"center",sx:{fontWeight:600,fontSize:"1.2rem",color:"text.primary",mt:1},children:p}),(0,n.jsxs)(r.v,{margin:A,dataset:N,xAxis:["vertical"===B?O.x:O.y],yAxis:["vertical"===B?O.y:O.x],series:K,height:parseInt(u.spacing(x?32:36)),width:C||M.minChartWidth,layout:B,grid:{vertical:P.vertical,horizontal:P.horizontal},barLabel:(t,e)=>(function(t,e,a,n){switch(t){case 0:default:return"";case 1:var l,r;return h.c3.includes(n.displayMethod)?(null===(l=e.value)||void 0===l?void 0:l.toString())+"%":null===(r=e.value)||void 0===r?void 0:r.toString()}})(w,t,0,k),slotProps:{legend:{hidden:j.hidden,direction:j.direction,position:j.position,padding:j.padding,labelStyle:{fontSize:"small"}}},sx:{"&&":{touchAction:"auto"},[".".concat(i.x.left," .").concat(i.x.label)]:{transform:"translate(".concat(T.x_offset,"px, 0)")},[".".concat(i.x.bottom," .").concat(i.x.label)]:{transform:"translate(0, ".concat(Z.y_offset,"px)")}},children:["// 显示水平参考线",!E.hidden&&(0,n.jsx)(f.O,{..."vertical"===B?{y:E.value}:{x:E.value},label:E.labelText,labelStyle:{fontSize:"small"},labelAlign:E.labelAlign,lineStyle:{stroke:E.strokeColor,strokeWidth:1.5,strokeDasharray:"5 5"}})]})]})}let buildAxisProps=(t,e,a,n,l)=>({x:{scaleType:"band",dataKey:t,label:"vertical"===e?n.text:l.text},y:{label:"vertical"===e?l.text:n.text,min:a.min||void 0,max:a.max||void 0,valueFormatter:d.gs}})}}]);