"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[948],{8948:function(e,t,a){a.r(t),a.d(t,{Pie:function(){return Pie},__N_SSG:function(){return p},default:function(){return PieChartPage}});var n=a(5893),c=a(7475),r=a(6550),l=a(7294),i=a(2734),u=a(7292),o=a(5861),s=a(8625),d=a(8503),h=a(143),p=!0;function PieChartPage(){return(0,n.jsx)(c.Z,{CHART_TYPE:r.y[2],ChartComponent:e=>{let{dataset:t,chartOptions:a}=e;return(0,n.jsx)(Pie,{dataset:t,chartOptions:a})}})}function Pie(e){let{dataset:t,chartOptions:a}=e,c=(0,i.Z)(),r=(0,u.Z)(c.breakpoints.down("sm")),{chartTitle:p,dataColumns:g,dimensionColumn:f,sortOption:P,filterOption:m,aggregationOption:v,sampleOption:b,colorStyle:C,chartWidth:y,marginConfig:k,legendConfig:x,arcLabelConfig:_,pieTopItems:j,pieInnerRadius:S}=a,w=(0,h.oy)(),{localDataset:A,localDataColumns:L}=l.useMemo(()=>{let e=(0,d.pQ)(t,g,f,P,m,v,b),a=processPieTopItems(e.localDataset,f,j);return{localDataset:a,localDataColumns:e.localDataColumns}},[t,g,f,P,m,v,b,j]);if(!f&&!A)return null;let R=h.c3.includes(v.displayMethod)?e=>"".concat(e.value,"%"):e=>"".concat(e.value),T=function(e,t,a,n){if(!e.length)return[];let c=(0,d.Sk)(e.length,n),r=Object.keys(e[0]).find(e=>e!==a&&t.includes(e));return e.map((e,t)=>({id:t,value:e[r],label:e[a],color:c[t]}))}(A,L,f,C),D=T.reduce((e,t)=>e+t.value,0);return(0,n.jsxs)(n.Fragment,{children:[p&&(0,n.jsx)(o.Z,{variant:"h6",align:"center",sx:{fontWeight:600,fontSize:"1.2rem",color:"text.primary",mt:1},children:p}),(0,n.jsx)(s.u,{margin:k,height:parseInt(c.spacing(r?32:36)),width:y||w.minChartWidth,series:[{data:T,valueFormatter:e=>R(e),arcLabel:e=>(function(e,t,a){var n,c,r;switch(e){case 0:default:return"";case 1:return"".concat(null!==(n=a.label)&&void 0!==n?n:"");case 2:return"".concat(a.value);case 3:return"".concat(calculatePercentage(a.value,t));case 4:return"".concat(null!==(c=a.label)&&void 0!==c?c:""," (").concat(a.value,")");case 5:return"".concat(null!==(r=a.label)&&void 0!==r?r:""," (").concat(calculatePercentage(a.value,t),")");case 6:return"".concat(a.value," (").concat(calculatePercentage(a.value,t),")");case 7:return"".concat(calculatePercentage(a.value,t)," (").concat(a.value,")")}})(_.displayType,D,e),arcLabelMinAngle:3.6*(_.minPercentage||w.minPieArcLabelMinAngle),arcLabelRadius:"".concat(_.radius||w.minPieArcLabelRadius,"%"),innerRadius:"".concat(S||w.minPieInnerRadius,"%")}],slotProps:{legend:{hidden:x.hidden,direction:x.direction,position:x.position,padding:x.padding,labelStyle:{fontSize:"small"}}}})]})}function calculatePercentage(e,t){return(e/t*100).toFixed(2)+"%"}let processPieTopItems=(e,t,a)=>{if(!a||e.length<=a)return e;let n=Object.keys(e[0]).find(e=>e!==t),c=[...e].sort((e,t)=>t[n]-e[n]),r=c.slice(0,a),l=c.slice(a).reduce((e,t)=>e+t[n],0);return[...r,{[t]:"Other",[n]:l}]}}}]);