"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[290],{4290:function(e,t,i){i.d(t,{G:function(){return q}});var n=i(7462),l=i(7294),r=i(1657),s=i(2767),h=i(5607),o=i(3507),a=i(717),c=i(9219),u=i(5893);function Scatter(e){let{series:t,xScale:i,yScale:r,color:d,colorGetter:f,markerSize:v,onItemClick:_}=e,g=(0,c.z)(),{useVoronoiInteraction:x}=l.useContext(o.s),y=x||t.disableHover,m=(0,h.J)(y),{isFaded:p,isHighlighted:w}=(0,a.j)(),P=l.useMemo(()=>{let e=(0,s.H5)(i),n=(0,s.H5)(r),l=[];for(let i=0;i<t.data.length;i+=1){let r=t.data[i],s=e(r.x),h=n(r.y),o=g.isPointInside({x:s,y:h}),a={type:"scatter",seriesId:t.id,dataIndex:i};if(o){let e={seriesId:a.seriesId,dataIndex:a.dataIndex},t=w(e);l.push({x:s,y:h,isHighlighted:t,isFaded:!t&&p(e),interactionProps:m(a),id:r.id,dataIndex:i,color:f?f(i):d})}}return l},[i,r,g,t.data,t.id,w,p,m,f,d]);return(0,u.jsx)("g",{children:P.map(e=>(0,u.jsx)("circle",(0,n.Z)({cx:0,cy:0,r:(e.isHighlighted?1.2:1)*v,transform:`translate(${e.x}, ${e.y})`,fill:e.color,opacity:e.isFaded&&.3||1,onClick:_&&(i=>_(i,{type:"scatter",seriesId:t.id,dataIndex:e.dataIndex})),cursor:_?"pointer":"unset"},e.interactionProps),e.id))})}var d=i(7003),f=i(7252),v=i(1003),_=i(9439);function ScatterPlot(e){let{slots:t,slotProps:i,onItemClick:r}=e,s=(0,_.Pv)(),h=(0,d.r)(),{zAxis:o,zAxisIds:a}=l.useContext(v.W);if(void 0===s)return null;let{series:c,seriesOrder:g}=s,{xAxis:x,yAxis:y,xAxisIds:m,yAxisIds:p}=h,w=m[0],P=p[0],I=a[0],M=t?.scatter??Scatter;return(0,u.jsx)(l.Fragment,{children:g.map(e=>{let{id:t,xAxisKey:l,yAxisKey:s,zAxisKey:h,xAxisId:a,yAxisId:d,zAxisId:v,markerSize:_,color:g}=c[e],m=(0,f.Z)(c[e],x[a??l??w],y[d??s??P],o[v??h??I]),p=x[a??l??w].scale,k=y[d??s??P].scale;return(0,u.jsx)(M,(0,n.Z)({xScale:p,yScale:k,color:g,colorGetter:m,markerSize:_??4,series:c[e],onItemClick:r},i?.scatter),t)})})}var g=i(2838),x=i(3146),y=i(6866),m=i(2203),p=i(3556),w=i(9339);let P=(3+8881784197001252e-31)*11102230246251565e-32;function util_sum(e,t,i,n,l){let r,s,h,o;let a=t[0],c=n[0],u=0,d=0;c>a==c>-a?(r=a,a=t[++u]):(r=c,c=n[++d]);let f=0;if(u<e&&d<i)for(c>a==c>-a?(s=a+r,h=r-(s-a),a=t[++u]):(s=c+r,h=r-(s-c),c=n[++d]),r=s,0!==h&&(l[f++]=h);u<e&&d<i;)c>a==c>-a?(o=(s=r+a)-r,h=r-(s-o)+(a-o),a=t[++u]):(o=(s=r+c)-r,h=r-(s-o)+(c-o),c=n[++d]),r=s,0!==h&&(l[f++]=h);for(;u<e;)o=(s=r+a)-r,h=r-(s-o)+(a-o),a=t[++u],r=s,0!==h&&(l[f++]=h);for(;d<i;)o=(s=r+c)-r,h=r-(s-o)+(c-o),c=n[++d],r=s,0!==h&&(l[f++]=h);return(0!==r||0===f)&&(l[f++]=r),f}function vec(e){return new Float64Array(e)}let I=(3+17763568394002505e-31)*11102230246251565e-32,M=(2+13322676295501878e-31)*11102230246251565e-32,k=(9+7105427357601002e-30)*11102230246251565e-32*11102230246251565e-32,b=vec(4),A=vec(8),T=vec(12),S=vec(16),C=vec(4);function orient2d(e,t,i,n,l,r){let s=(t-r)*(i-l),h=(e-l)*(n-r),o=s-h,a=Math.abs(s+h);return Math.abs(o)>=I*a?o:-function(e,t,i,n,l,r,s){let h,o,a,c,u,d,f,v,_,g,x,y,m,p,w,I,Z,j;let $=e-l,z=i-l,H=t-r,L=n-r;p=$*L,f=(d=134217729*$)-(d-$),v=$-f,_=(d=134217729*L)-(d-L),w=v*(g=L-_)-(p-f*_-v*_-f*g),I=H*z,f=(d=134217729*H)-(d-H),v=H-f,_=(d=134217729*z)-(d-z),x=w-(Z=v*(g=z-_)-(I-f*_-v*_-f*g)),u=w-x,b[0]=w-(x+u)+(u-Z),u=(y=p+x)-p,x=(m=p-(y-u)+(x-u))-I,u=m-x,b[1]=m-(x+u)+(u-I),u=(j=y+x)-y,b[2]=y-(j-u)+(x-u),b[3]=j;let E=function(e,t){let i=t[0];for(let e=1;e<4;e++)i+=t[e];return i}(0,b),F=M*s;if(E>=F||-E>=F||(u=e-$,h=e-($+u)+(u-l),u=i-z,a=i-(z+u)+(u-l),u=t-H,o=t-(H+u)+(u-r),u=n-L,c=n-(L+u)+(u-r),0===h&&0===o&&0===a&&0===c)||(F=k*s+P*Math.abs(E),(E+=$*c+L*h-(H*a+z*o))>=F||-E>=F))return E;p=h*L,f=(d=134217729*h)-(d-h),v=h-f,_=(d=134217729*L)-(d-L),w=v*(g=L-_)-(p-f*_-v*_-f*g),I=o*z,f=(d=134217729*o)-(d-o),v=o-f,_=(d=134217729*z)-(d-z),x=w-(Z=v*(g=z-_)-(I-f*_-v*_-f*g)),u=w-x,C[0]=w-(x+u)+(u-Z),u=(y=p+x)-p,x=(m=p-(y-u)+(x-u))-I,u=m-x,C[1]=m-(x+u)+(u-I),u=(j=y+x)-y,C[2]=y-(j-u)+(x-u),C[3]=j;let U=util_sum(4,b,4,C,A);p=$*c,f=(d=134217729*$)-(d-$),v=$-f,_=(d=134217729*c)-(d-c),w=v*(g=c-_)-(p-f*_-v*_-f*g),I=H*a,f=(d=134217729*H)-(d-H),v=H-f,_=(d=134217729*a)-(d-a),x=w-(Z=v*(g=a-_)-(I-f*_-v*_-f*g)),u=w-x,C[0]=w-(x+u)+(u-Z),u=(y=p+x)-p,x=(m=p-(y-u)+(x-u))-I,u=m-x,C[1]=m-(x+u)+(u-I),u=(j=y+x)-y,C[2]=y-(j-u)+(x-u),C[3]=j;let q=util_sum(U,A,4,C,T);p=h*c,f=(d=134217729*h)-(d-h),v=h-f,_=(d=134217729*c)-(d-c),w=v*(g=c-_)-(p-f*_-v*_-f*g),I=o*a,f=(d=134217729*o)-(d-o),v=o-f,_=(d=134217729*a)-(d-a),x=w-(Z=v*(g=a-_)-(I-f*_-v*_-f*g)),u=w-x,C[0]=w-(x+u)+(u-Z),u=(y=p+x)-p,x=(m=p-(y-u)+(x-u))-I,u=m-x,C[1]=m-(x+u)+(u-I),u=(j=y+x)-y,C[2]=y-(j-u)+(x-u),C[3]=j;let V=util_sum(q,T,4,C,S);return S[V-1]}(e,t,i,n,l,r,a)}vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(8),vec(8),vec(8),vec(4),vec(8),vec(8),vec(8),vec(12),vec(192),vec(192),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(8),vec(8),vec(8),vec(8),vec(8),vec(8),vec(8),vec(8),vec(8),vec(4),vec(4),vec(4),vec(8),vec(16),vec(16),vec(16),vec(32),vec(32),vec(48),vec(64),vec(1152),vec(1152),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(24),vec(24),vec(24),vec(24),vec(24),vec(24),vec(24),vec(24),vec(24),vec(24),vec(1152),vec(1152),vec(1152),vec(1152),vec(1152),vec(2304),vec(2304),vec(3456),vec(5760),vec(8),vec(8),vec(8),vec(16),vec(24),vec(48),vec(48),vec(96),vec(192),vec(384),vec(384),vec(384),vec(768),vec(96),vec(96),vec(96),vec(1152);let Z=new Uint32Array(512);let Delaunator=class Delaunator{static from(e,t=defaultGetX,i=defaultGetY){let n=e.length,l=new Float64Array(2*n);for(let r=0;r<n;r++){let n=e[r];l[2*r]=t(n),l[2*r+1]=i(n)}return new Delaunator(l)}constructor(e){let t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw Error("Expected coords to contain numbers.");this.coords=e;let i=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*i),this._halfedges=new Int32Array(3*i),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){let e,t,i;let{coords:n,_hullPrev:l,_hullNext:r,_hullTri:s,_hullHash:h}=this,o=n.length>>1,a=1/0,c=1/0,u=-1/0,d=-1/0;for(let e=0;e<o;e++){let t=n[2*e],i=n[2*e+1];t<a&&(a=t),i<c&&(c=i),t>u&&(u=t),i>d&&(d=i),this._ids[e]=e}let f=(a+u)/2,v=(c+d)/2;for(let t=0,i=1/0;t<o;t++){let l=dist(f,v,n[2*t],n[2*t+1]);l<i&&(e=t,i=l)}let _=n[2*e],g=n[2*e+1];for(let i=0,l=1/0;i<o;i++){if(i===e)continue;let r=dist(_,g,n[2*i],n[2*i+1]);r<l&&r>0&&(t=i,l=r)}let x=n[2*t],y=n[2*t+1],m=1/0;for(let l=0;l<o;l++){if(l===e||l===t)continue;let r=function(e,t,i,n,l,r){let s=i-e,h=n-t,o=l-e,a=r-t,c=s*s+h*h,u=o*o+a*a,d=.5/(s*a-h*o),f=(a*c-h*u)*d,v=(s*u-o*c)*d;return f*f+v*v}(_,g,x,y,n[2*l],n[2*l+1]);r<m&&(i=l,m=r)}let p=n[2*i],w=n[2*i+1];if(m===1/0){for(let e=0;e<o;e++)this._dists[e]=n[2*e]-n[0]||n[2*e+1]-n[1];quicksort(this._ids,this._dists,0,o-1);let e=new Uint32Array(o),t=0;for(let i=0,n=-1/0;i<o;i++){let l=this._ids[i],r=this._dists[l];r>n&&(e[t++]=l,n=r)}this.hull=e.subarray(0,t),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(0>orient2d(_,g,x,y,p,w)){let e=t,n=x,l=y;t=i,x=p,y=w,i=e,p=n,w=l}let P=function(e,t,i,n,l,r){let s=i-e,h=n-t,o=l-e,a=r-t,c=s*s+h*h,u=o*o+a*a,d=.5/(s*a-h*o);return{x:e+(a*c-h*u)*d,y:t+(s*u-o*c)*d}}(_,g,x,y,p,w);this._cx=P.x,this._cy=P.y;for(let e=0;e<o;e++)this._dists[e]=dist(n[2*e],n[2*e+1],P.x,P.y);quicksort(this._ids,this._dists,0,o-1),this._hullStart=e;let I=3;r[e]=l[i]=t,r[t]=l[e]=i,r[i]=l[t]=e,s[e]=0,s[t]=1,s[i]=2,h.fill(-1),h[this._hashKey(_,g)]=e,h[this._hashKey(x,y)]=t,h[this._hashKey(p,w)]=i,this.trianglesLen=0,this._addTriangle(e,t,i,-1,-1,-1);for(let o=0,a,c;o<this._ids.length;o++){let u=this._ids[o],d=n[2*u],f=n[2*u+1];if(o>0&&2220446049250313e-31>=Math.abs(d-a)&&2220446049250313e-31>=Math.abs(f-c)||(a=d,c=f,u===e||u===t||u===i))continue;let v=0;for(let e=0,t=this._hashKey(d,f);e<this._hashSize&&(-1===(v=h[(t+e)%this._hashSize])||v===r[v]);e++);let _=v=l[v],g;for(;g=r[_],orient2d(d,f,n[2*_],n[2*_+1],n[2*g],n[2*g+1])>=0;)if((_=g)===v){_=-1;break}if(-1===_)continue;let x=this._addTriangle(_,u,r[_],-1,-1,s[_]);s[u]=this._legalize(x+2),s[_]=x,I++;let y=r[_];for(;g=r[y],0>orient2d(d,f,n[2*y],n[2*y+1],n[2*g],n[2*g+1]);)x=this._addTriangle(y,u,g,s[u],-1,s[y]),s[u]=this._legalize(x+2),r[y]=y,I--,y=g;if(_===v)for(;0>orient2d(d,f,n[2*(g=l[_])],n[2*g+1],n[2*_],n[2*_+1]);)x=this._addTriangle(g,u,_,-1,s[_],s[g]),this._legalize(x+2),s[g]=x,r[_]=_,I--,_=g;this._hullStart=l[u]=_,r[_]=l[y]=u,r[u]=y,h[this._hashKey(d,f)]=u,h[this._hashKey(n[2*_],n[2*_+1])]=_}this.hull=new Uint32Array(I);for(let e=0,t=this._hullStart;e<I;e++)this.hull[e]=t,t=r[t];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){let i=e/(Math.abs(e)+Math.abs(t));return(t>0?3-i:1+i)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){let{_triangles:t,_halfedges:i,coords:n}=this,l=0,r=0;for(;;){let s=i[e],h=e-e%3;if(r=h+(e+2)%3,-1===s){if(0===l)break;e=Z[--l];continue}let o=s-s%3,a=h+(e+1)%3,c=o+(s+2)%3,u=t[r],d=t[e],f=t[a],v=t[c],_=function(e,t,i,n,l,r,s,h){let o=e-s,a=t-h,c=i-s,u=n-h,d=l-s,f=r-h,v=c*c+u*u,_=d*d+f*f;return o*(u*_-v*f)-a*(c*_-v*d)+(o*o+a*a)*(c*f-u*d)<0}(n[2*u],n[2*u+1],n[2*d],n[2*d+1],n[2*f],n[2*f+1],n[2*v],n[2*v+1]);if(_){t[e]=v,t[s]=u;let n=i[c];if(-1===n){let t=this._hullStart;do{if(this._hullTri[t]===c){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,n),this._link(s,i[r]),this._link(r,c);let h=o+(s+1)%3;l<Z.length&&(Z[l++]=h)}else{if(0===l)break;e=Z[--l]}}return r}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,i,n,l,r){let s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=t,this._triangles[s+2]=i,this._link(s,n),this._link(s+1,l),this._link(s+2,r),this.trianglesLen+=3,s}};function dist(e,t,i,n){let l=e-i,r=t-n;return l*l+r*r}function quicksort(e,t,i,n){if(n-i<=20)for(let l=i+1;l<=n;l++){let n=e[l],r=t[n],s=l-1;for(;s>=i&&t[e[s]]>r;)e[s+1]=e[s--];e[s+1]=n}else{let l=i+n>>1,r=i+1,s=n;swap(e,l,r),t[e[i]]>t[e[n]]&&swap(e,i,n),t[e[r]]>t[e[n]]&&swap(e,r,n),t[e[i]]>t[e[r]]&&swap(e,i,r);let h=e[r],o=t[h];for(;;){do r++;while(t[e[r]]<o);do s--;while(t[e[s]]>o);if(s<r)break;swap(e,r,s)}e[i+1]=e[s],e[s]=h,n-r+1>=s-i?(quicksort(e,t,r,n),quicksort(e,t,i,s-1)):(quicksort(e,t,i,s-1),quicksort(e,t,r,n))}}function swap(e,t,i){let n=e[t];e[t]=e[i],e[i]=n}function defaultGetX(e){return e[0]}function defaultGetY(e){return e[1]}let Path=class Path{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,i){e=+e,t=+t,i=+i;let n=e+i,l=t;if(i<0)throw Error("negative radius");null===this._x1?this._+=`M${n},${l}`:(Math.abs(this._x1-n)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+n+","+l),i&&(this._+=`A${i},${i},0,1,1,${e-i},${t}A${i},${i},0,1,1,${this._x1=n},${this._y1=l}`)}rect(e,t,i,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+i}v${+n}h${-i}Z`}value(){return this._||null}};let Polygon=class Polygon{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}};let Voronoi=class Voronoi{constructor(e,[t,i,n,l]=[0,0,960,500]){if(!((n=+n)>=(t=+t))||!((l=+l)>=(i=+i)))throw Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=n,this.xmin=t,this.ymax=l,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let e,t;let{delaunay:{points:i,hull:n,triangles:l},vectors:r}=this,s=this.circumcenters=this._circumcenters.subarray(0,l.length/3*2);for(let r=0,h=0,o=l.length,a,c;r<o;r+=3,h+=2){let o=2*l[r],u=2*l[r+1],d=2*l[r+2],f=i[o],v=i[o+1],_=i[u],g=i[u+1],x=i[d],y=i[d+1],m=_-f,p=g-v,w=x-f,P=y-v,I=(m*P-p*w)*2;if(1e-9>Math.abs(I)){if(void 0===e){for(let l of(e=t=0,n))e+=i[2*l],t+=i[2*l+1];e/=n.length,t/=n.length}let l=1e9*Math.sign((e-f)*P-(t-v)*w);a=(f+x)/2-l*P,c=(v+y)/2+l*w}else{let e=1/I,t=m*m+p*p,i=w*w+P*P;a=f+(P*t-p*i)*e,c=v+(m*i-w*t)*e}s[h]=a,s[h+1]=c}let h=n[n.length-1],o,a=4*h,c,u=i[2*h],d,f=i[2*h+1];r.fill(0);for(let e=0;e<n.length;++e)h=n[e],o=a,c=u,d=f,a=4*h,u=i[2*h],f=i[2*h+1],r[o+2]=r[a]=d-f,r[o+3]=r[a+1]=u-c}render(e){let t=null==e?e=new Path:void 0,{delaunay:{halfedges:i,inedges:n,hull:l},circumcenters:r,vectors:s}=this;if(l.length<=1)return null;for(let t=0,n=i.length;t<n;++t){let n=i[t];if(n<t)continue;let l=2*Math.floor(t/3),s=2*Math.floor(n/3),h=r[l],o=r[l+1],a=r[s],c=r[s+1];this._renderSegment(h,o,a,c,e)}let h,o=l[l.length-1];for(let t=0;t<l.length;++t){h=o,o=l[t];let i=2*Math.floor(n[o]/3),a=r[i],c=r[i+1],u=4*h,d=this._project(a,c,s[u+2],s[u+3]);d&&this._renderSegment(a,c,d[0],d[1],e)}return t&&t.value()}renderBounds(e){let t=null==e?e=new Path:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){let i=null==t?t=new Path:void 0,n=this._clip(e);if(null===n||!n.length)return;t.moveTo(n[0],n[1]);let l=n.length;for(;n[0]===n[l-2]&&n[1]===n[l-1]&&l>1;)l-=2;for(let e=2;e<l;e+=2)(n[e]!==n[e-2]||n[e+1]!==n[e-1])&&t.lineTo(n[e],n[e+1]);return t.closePath(),i&&i.value()}*cellPolygons(){let{delaunay:{points:e}}=this;for(let t=0,i=e.length/2;t<i;++t){let e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){let t=new Polygon;return this.renderCell(e,t),t.value()}_renderSegment(e,t,i,n,l){let r;let s=this._regioncode(e,t),h=this._regioncode(i,n);0===s&&0===h?(l.moveTo(e,t),l.lineTo(i,n)):(r=this._clipSegment(e,t,i,n,s,h))&&(l.moveTo(r[0],r[1]),l.lineTo(r[2],r[3]))}contains(e,t,i){return(t=+t)==t&&(i=+i)==i&&this.delaunay._step(e,t,i)===e}*neighbors(e){let t=this._clip(e);if(t)for(let i of this.delaunay.neighbors(e)){let e=this._clip(i);if(e){e:for(let n=0,l=t.length;n<l;n+=2)for(let r=0,s=e.length;r<s;r+=2)if(t[n]===e[r]&&t[n+1]===e[r+1]&&t[(n+2)%l]===e[(r+s-2)%s]&&t[(n+3)%l]===e[(r+s-1)%s]){yield i;break e}}}}_cell(e){let{circumcenters:t,delaunay:{inedges:i,halfedges:n,triangles:l}}=this,r=i[e];if(-1===r)return null;let s=[],h=r;do{let i=Math.floor(h/3);if(s.push(t[2*i],t[2*i+1]),l[h=h%3==2?h-2:h+1]!==e)break;h=n[h]}while(h!==r&&-1!==h);return s}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let t=this._cell(e);if(null===t)return null;let{vectors:i}=this,n=4*e;return this._simplify(i[n]||i[n+1]?this._clipInfinite(e,t,i[n],i[n+1],i[n+2],i[n+3]):this._clipFinite(e,t))}_clipFinite(e,t){let i=t.length,n=null,l,r,s=t[i-2],h=t[i-1],o,a=this._regioncode(s,h),c,u=0;for(let d=0;d<i;d+=2)if(l=s,r=h,s=t[d],h=t[d+1],o=a,a=this._regioncode(s,h),0===o&&0===a)c=u,u=0,n?n.push(s,h):n=[s,h];else{let t,i,d,f,v;if(0===o){if(null===(t=this._clipSegment(l,r,s,h,o,a)))continue;[i,d,f,v]=t}else{if(null===(t=this._clipSegment(s,h,l,r,a,o)))continue;[f,v,i,d]=t,c=u,u=this._edgecode(i,d),c&&u&&this._edge(e,c,u,n,n.length),n?n.push(i,d):n=[i,d]}c=u,u=this._edgecode(f,v),c&&u&&this._edge(e,c,u,n,n.length),n?n.push(f,v):n=[f,v]}if(n)c=u,u=this._edgecode(n[0],n[1]),c&&u&&this._edge(e,c,u,n,n.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return n}_clipSegment(e,t,i,n,l,r){let s=l<r;for(s&&([e,t,i,n,l,r]=[i,n,e,t,r,l]);;){if(0===l&&0===r)return s?[i,n,e,t]:[e,t,i,n];if(l&r)return null;let h,o,a=l||r;8&a?(h=e+(i-e)*(this.ymax-t)/(n-t),o=this.ymax):4&a?(h=e+(i-e)*(this.ymin-t)/(n-t),o=this.ymin):2&a?(o=t+(n-t)*(this.xmax-e)/(i-e),h=this.xmax):(o=t+(n-t)*(this.xmin-e)/(i-e),h=this.xmin),l?(e=h,t=o,l=this._regioncode(e,t)):(i=h,n=o,r=this._regioncode(i,n))}}_clipInfinite(e,t,i,n,l,r){let s=Array.from(t),h;if((h=this._project(s[0],s[1],i,n))&&s.unshift(h[0],h[1]),(h=this._project(s[s.length-2],s[s.length-1],l,r))&&s.push(h[0],h[1]),s=this._clipFinite(e,s))for(let t=0,i=s.length,n,l=this._edgecode(s[i-2],s[i-1]);t<i;t+=2)n=l,l=this._edgecode(s[t],s[t+1]),n&&l&&(t=this._edge(e,n,l,s,t),i=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,t,i,n,l){for(;t!==i;){let i,r;switch(t){case 5:t=4;continue;case 4:t=6,i=this.xmax,r=this.ymin;break;case 6:t=2;continue;case 2:t=10,i=this.xmax,r=this.ymax;break;case 10:t=8;continue;case 8:t=9,i=this.xmin,r=this.ymax;break;case 9:t=1;continue;case 1:t=5,i=this.xmin,r=this.ymin}(n[l]!==i||n[l+1]!==r)&&this.contains(e,i,r)&&(n.splice(l,0,i,r),l+=2)}return l}_project(e,t,i,n){let l=1/0,r,s,h;if(n<0){if(t<=this.ymin)return null;(r=(this.ymin-t)/n)<l&&(h=this.ymin,s=e+(l=r)*i)}else if(n>0){if(t>=this.ymax)return null;(r=(this.ymax-t)/n)<l&&(h=this.ymax,s=e+(l=r)*i)}if(i>0){if(e>=this.xmax)return null;(r=(this.xmax-e)/i)<l&&(s=this.xmax,h=t+(l=r)*n)}else if(i<0){if(e<=this.xmin)return null;(r=(this.xmin-e)/i)<l&&(s=this.xmin,h=t+(l=r)*n)}return[s,h]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){let i=(t+2)%e.length,n=(t+4)%e.length;(e[t]===e[i]&&e[i]===e[n]||e[t+1]===e[i+1]&&e[i+1]===e[n+1])&&(e.splice(i,2),t-=2)}e.length||(e=null)}return e}};let j=2*Math.PI,$=Math.pow;function pointX(e){return e[0]}function pointY(e){return e[1]}let Delaunay=class Delaunay{static from(e,t=pointX,i=pointY,n){return new Delaunay("length"in e?function(e,t,i,n){let l=e.length,r=new Float64Array(2*l);for(let s=0;s<l;++s){let l=e[s];r[2*s]=t.call(n,l,s,e),r[2*s+1]=i.call(n,l,s,e)}return r}(e,t,i,n):Float64Array.from(function*(e,t,i,n){let l=0;for(let r of e)yield t.call(n,r,l,e),yield i.call(n,r,l,e),++l}(e,t,i,n)))}constructor(e){this._delaunator=new Delaunator(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){let{triangles:t,coords:i}=e;for(let e=0;e<t.length;e+=3){let n=2*t[e],l=2*t[e+1],r=2*t[e+2],s=(i[r]-i[n])*(i[l+1]-i[n+1])-(i[l]-i[n])*(i[r+1]-i[n+1]);if(s>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(e,t)=>t).sort((e,i)=>t[2*e]-t[2*i]||t[2*e+1]-t[2*i+1]);let e=this.collinear[0],l=this.collinear[this.collinear.length-1],r=[t[2*e],t[2*e+1],t[2*l],t[2*l+1]],s=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let e=0,l=t.length/2;e<l;++e){var i,n;let l=[(i=t[2*e])+Math.sin(i+(n=t[2*e+1]))*s,n+Math.cos(i-n)*s];t[2*e]=l[0],t[2*e+1]=l[1]}this._delaunator=new Delaunator(t)}else delete this.collinear;let l=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,h=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let e=0,t=l.length;e<t;++e){let t=s[e%3==2?e-2:e+1];(-1===l[e]||-1===h[t])&&(h[t]=e)}for(let e=0,t=r.length;e<t;++e)o[r[e]]=e;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],h[r[0]]=1,2===r.length&&(h[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new Voronoi(this,e)}*neighbors(e){let{inedges:t,hull:i,_hullIndex:n,halfedges:l,triangles:r,collinear:s}=this;if(s){let t=s.indexOf(e);t>0&&(yield s[t-1]),t<s.length-1&&(yield s[t+1]);return}let h=t[e];if(-1===h)return;let o=h,a=-1;do{if(yield a=r[o],r[o=o%3==2?o-2:o+1]!==e)return;if(-1===(o=l[o])){let t=i[(n[e]+1)%i.length];t!==a&&(yield t);return}}while(o!==h)}find(e,t,i=0){let n;if((e=+e)!=e||(t=+t)!=t)return -1;let l=i;for(;(n=this._step(i,e,t))>=0&&n!==i&&n!==l;)i=n;return n}_step(e,t,i){let{inedges:n,hull:l,_hullIndex:r,halfedges:s,triangles:h,points:o}=this;if(-1===n[e]||!o.length)return(e+1)%(o.length>>1);let a=e,c=$(t-o[2*e],2)+$(i-o[2*e+1],2),u=n[e],d=u;do{let n=h[d],u=$(t-o[2*n],2)+$(i-o[2*n+1],2);if(u<c&&(c=u,a=n),h[d=d%3==2?d-2:d+1]!==e)break;if(-1===(d=s[d])){if((d=l[(r[e]+1)%l.length])!==n&&$(t-o[2*d],2)+$(i-o[2*d+1],2)<c)return d;break}}while(d!==u);return a}render(e){let t=null==e?e=new Path:void 0,{points:i,halfedges:n,triangles:l}=this;for(let t=0,r=n.length;t<r;++t){let r=n[t];if(r<t)continue;let s=2*l[t],h=2*l[r];e.moveTo(i[s],i[s+1]),e.lineTo(i[h],i[h+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){void 0!==t||e&&"function"==typeof e.moveTo||(t=e,e=null),t=void 0==t?2:+t;let i=null==e?e=new Path:void 0,{points:n}=this;for(let i=0,l=n.length;i<l;i+=2){let l=n[i],r=n[i+1];e.moveTo(l+t,r),e.arc(l,r,t,0,j)}return i&&i.value()}renderHull(e){let t=null==e?e=new Path:void 0,{hull:i,points:n}=this,l=2*i[0],r=i.length;e.moveTo(n[l],n[l+1]);for(let t=1;t<r;++t){let l=2*i[t];e.lineTo(n[l],n[l+1])}return e.closePath(),t&&t.value()}hullPolygon(){let e=new Polygon;return this.renderHull(e),e.value()}renderTriangle(e,t){let i=null==t?t=new Path:void 0,{points:n,triangles:l}=this,r=2*l[e*=3],s=2*l[e+1],h=2*l[e+2];return t.moveTo(n[r],n[r+1]),t.lineTo(n[s],n[s+1]),t.lineTo(n[h],n[h+1]),t.closePath(),i&&i.value()}*trianglePolygons(){let{triangles:e}=this;for(let t=0,i=e.length/3;t<i;++t)yield this.trianglePolygon(t)}trianglePolygon(e){let t=new Polygon;return this.renderTriangle(e,t),t.value()}};var z=i(3546),H=i(3479),L=i(5508);function ChartsVoronoiHandler(e){let{voronoiMaxRadius:t,onItemClick:i}=e,n=(0,L.S)(),r=(0,c.z)(),{xAxis:h,yAxis:f,xAxisIds:v,yAxisIds:g}=(0,d.r)(),{dispatch:x}=l.useContext(o.s),{series:y,seriesOrder:m}=(0,_.Pv)()??{},p=l.useRef({}),w=l.useRef(void 0),P=l.useRef(void 0),{setHighlighted:I,clearHighlighted:M}=(0,a.j)(),k=v[0],b=g[0];return(0,z.Z)(()=>(x({type:"updateVoronoiUsage",useVoronoiInteraction:!0}),()=>{x({type:"updateVoronoiUsage",useVoronoiInteraction:!1})}),[x]),(0,z.Z)(()=>{if(void 0===m||void 0===y)return;p.current={};let e=[];m.forEach(t=>{let{data:i,xAxisId:n,yAxisId:l,xAxisKey:o,yAxisKey:a}=y[t],c=h[n??o??k].scale,u=f[l??a??b].scale,d=(0,s.H5)(c),v=(0,s.H5)(u),_=i.flatMap(({x:e,y:t})=>{let i=d(e),n=v(t);return r.isPointInside({x:i,y:n})?[i,n]:[-r.width,-r.height]});p.current[t]={seriesId:t,startIndex:e.length,endIndex:e.length+_.length},e=e.concat(_)}),w.current=new Delaunay(e),P.current=void 0},[k,b,y,m,h,f,r]),l.useEffect(()=>{if(null===n.current)return;let e=n.current;function getClosestPoint(i){let n=(0,H.m)(e,i);if(!r.isPointInside(n))return P.current=void 0,"outside-chart";if(!w.current)return"no-point-found";let l=w.current.find(n.x,n.y,P.current);if(void 0===l)return"no-point-found";P.current=l;let s=Object.values(p.current).find(e=>2*l>=e.startIndex&&2*l<e.endIndex);if(void 0===s)return"no-point-found";let h=(2*l-p.current[s.seriesId].startIndex)/2;if(void 0!==t){let e=w.current.points[2*l],i=w.current.points[2*l+1],r=(e-n.x)**2+(i-n.y)**2;if(r>t**2)return"outside-voronoi-max-radius"}return{seriesId:s.seriesId,dataIndex:h}}let handleMouseLeave=()=>{x({type:"exitChart"}),M()},handleMouseMove=e=>{let t=getClosestPoint(e);if("outside-chart"===t){x({type:"exitChart"}),M();return}if("outside-voronoi-max-radius"===t||"no-point-found"===t){x({type:"leaveItem",data:{type:"scatter"}}),M();return}let{seriesId:i,dataIndex:n}=t;x({type:"enterItem",data:{type:"scatter",seriesId:i,dataIndex:n}}),I({seriesId:i,dataIndex:n})},handleMouseClick=e=>{if(!i)return;let t=getClosestPoint(e);if("string"==typeof t)return;let{seriesId:n,dataIndex:l}=t;i(e,{type:"scatter",seriesId:n,dataIndex:l})};return e.addEventListener("pointerleave",handleMouseLeave),e.addEventListener("pointermove",handleMouseMove),e.addEventListener("click",handleMouseClick),()=>{e.removeEventListener("pointerleave",handleMouseLeave),e.removeEventListener("pointermove",handleMouseMove),e.removeEventListener("click",handleMouseClick)}},[n,x,f,h,t,i,I,M,r]),(0,u.jsx)(l.Fragment,{})}var E=i(9595),F=i(3366);let U=["xAxis","yAxis","zAxis","series","tooltip","axisHighlight","voronoiMaxRadius","disableVoronoi","legend","width","height","margin","colors","sx","grid","topAxis","leftAxis","rightAxis","bottomAxis","onItemClick","children","slots","slotProps","loading","highlightedItem","onHighlightChange","className"],useScatterChartProps=e=>{let{xAxis:t,yAxis:i,zAxis:l,series:r,tooltip:s,axisHighlight:h,voronoiMaxRadius:o,disableVoronoi:a,legend:c,width:u,height:d,margin:f,colors:v,sx:_,grid:g,topAxis:x,leftAxis:y,rightAxis:m,bottomAxis:p,onItemClick:w,children:P,slots:I,slotProps:M,loading:k,highlightedItem:b,onHighlightChange:A,className:T}=e,S=(0,F.Z)(e,U),C=(0,n.Z)({},S,{series:r.map(e=>(0,n.Z)({type:"scatter"},e)),width:u,height:d,margin:f,colors:v,xAxis:t,yAxis:i,sx:_,highlightedItem:b,onHighlightChange:A,className:T}),Z={vertical:g?.vertical,horizontal:g?.horizontal},j=(0,n.Z)({},c,{slots:I,slotProps:M}),$=(0,n.Z)({y:"none",x:"none"},h),z=(0,n.Z)({trigger:"item"},s,{slots:I,slotProps:M});return{chartContainerProps:C,zAxisProps:{zAxis:l},voronoiHandlerProps:{voronoiMaxRadius:o,onItemClick:w},chartsAxisProps:{topAxis:x,leftAxis:y,rightAxis:m,bottomAxis:p,slots:I,slotProps:M},gridProps:Z,scatterPlotProps:{onItemClick:a?w:void 0,slots:I,slotProps:M},overlayProps:{loading:k,slots:I,slotProps:M},legendProps:j,axisHighlightProps:$,tooltipProps:z,children:P}},q=l.forwardRef(function(e,t){let i=(0,r.Z)({props:e,name:"MuiScatterChart"}),{chartContainerProps:l,zAxisProps:s,voronoiHandlerProps:h,chartsAxisProps:o,gridProps:a,scatterPlotProps:c,overlayProps:d,legendProps:f,axisHighlightProps:_,tooltipProps:P,children:I}=useScatterChartProps(i);return(0,u.jsx)(g.D,(0,n.Z)({ref:t},l,{children:(0,u.jsxs)(v.n,(0,n.Z)({},s,{children:[!i.disableVoronoi&&(0,u.jsx)(ChartsVoronoiHandler,(0,n.Z)({},h)),(0,u.jsx)(x.q,(0,n.Z)({},o)),(0,u.jsx)(E.q,(0,n.Z)({},a)),(0,u.jsx)("g",{"data-drawing-container":!0,children:(0,u.jsx)(ScatterPlot,(0,n.Z)({},c))}),(0,u.jsx)(p.I,(0,n.Z)({},d)),(0,u.jsx)(m.G,(0,n.Z)({},f)),(0,u.jsx)(w.qe,(0,n.Z)({},_)),!i.loading&&(0,u.jsx)(y.a,(0,n.Z)({},P)),I]}))}))})}}]);