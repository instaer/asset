"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[224],{6224:function(t,e,a){a.r(e),a.d(e,{Combo:function(){return Combo},default:function(){return ComboChartPage}});var i=a(5893),r=a(7475),n=a(6550),o=a(7294),s=a(2734),l=a(7292),c=a(1256),d=a(1828),x=a(1526),u=a(7453),p=a(3137),y=a(5534),f=a(5125),h=a(2203),b=a(6866),g=a(9595),m=a(8503),C=a(143);function ComboChartPage(){return(0,i.jsx)(r.Z,{CHART_TYPE:n.y[4],ChartComponent:t=>{let{dataset:e,chartOptions:a}=t;return(0,i.jsx)(Combo,{dataset:e,chartOptions:a})}})}function Combo(t){let{dataset:e,chartOptions:a}=t,r=(0,s.Z)(),n=(0,l.Z)(r.breakpoints.down("sm")),{dataColumns:j,dimensionColumn:v,dualYAxisConfig:T,sortOption:k,filterOption:_,aggregationOption:w,sampleOption:A,colorStyle:I,chartWidth:M,marginConfig:E,legendConfig:N,showGridLine:P,barLabelType:S,lineStyle:F,yAxisScaleType:K,yAxisLabelConfig:Z,rightYAxisLabelConfig:O,xAxisLabelConfig:q}=a,{localDataset:z,localDataColumns:B}=o.useMemo(()=>(0,m.pQ)(e,j,v,k,_,w,A),[e,j,v,k,_,w,A]);if(!v&&!z)return null;let G=C.c3.includes(w.displayMethod)?t=>"".concat(t,"%"):t=>"".concat(t),H=function(t,e,a,i,r,n,o){if(!t.length)return[];let s=Object.keys(t[0]).filter(t=>t!==a&&e.includes(t)),l=(0,m.Sk)(s.length,r);return s.flatMap((t,e)=>{let a=i.primaryColumns.includes(t),r=a?i.primaryChartType:i.secondaryChartType,s=a?"left-y-axis-id":"right-y-axis-id";return"0"===r?[{type:"bar",dataKey:t,label:t,color:l[e],valueFormatter:o,id:"bar-".concat(e),yAxisId:s}]:[{type:"line",dataKey:t,label:t,color:l[e],showMark:!0,curve:n,valueFormatter:o,id:"line-".concat(e),yAxisId:s}]})}(z,B,v,T,I,F,G);return(0,i.jsxs)(c.B,{margin:E,dataset:z,height:parseInt(r.spacing(n?32:36)),width:M,series:H,xAxis:[{id:"x-axis-id",dataKey:v,scaleType:"band",valueFormatter:t=>t.toString()}],yAxis:[{id:"left-y-axis-id",valueFormatter:m.gs,scaleType:"0"===T.primaryChartType?"linear":K},{id:"right-y-axis-id",valueFormatter:m.gs,scaleType:"0"===T.secondaryChartType?"linear":K}],sx:{"&&":{touchAction:"auto"},[".".concat(d.x.left," .").concat(d.x.label)]:{transform:"translate(".concat(Z.x_offset,"px, 0)")},[".".concat(d.x.right," .").concat(d.x.label)]:{transform:"translate(".concat(O.x_offset,"px, 0)")},[".".concat(d.x.bottom," .").concat(d.x.label)]:{transform:"translate(0, ".concat(q.y_offset,"px)")}},children:[(0,i.jsx)(x.E,{barLabel:(t,e)=>(function(t,e,a,i){switch(t){case 0:default:return"";case 1:var r,n;return C.c3.includes(i.displayMethod)?(null===(r=e.value)||void 0===r?void 0:r.toString())+"%":null===(n=e.value)||void 0===n?void 0:n.toString()}})(S,t,0,w)}),(0,i.jsx)(u.e,{}),(0,i.jsx)(p.i,{}),(0,i.jsx)(y.U,{label:q.text,position:"bottom",axisId:"x-axis-id"}),(0,i.jsx)(f.N,{label:Z.text,position:"left",axisId:"left-y-axis-id"}),!function(t,e){if(t.length!==e.length)return!1;let a=[...t].sort(),i=[...e].sort();return a.every((t,e)=>t===i[e])}(j.filter(t=>t!==v).sort(),T.primaryColumns.sort())&&(0,i.jsx)(f.N,{label:O.text,position:"right",axisId:"right-y-axis-id"}),(0,i.jsx)(h.G,{slotProps:{legend:{hidden:N.hidden,direction:N.direction,position:N.position,padding:N.padding}}}),(0,i.jsx)(b.a,{trigger:"axis"}),(0,i.jsx)(g.q,{horizontal:P})]})}}}]);